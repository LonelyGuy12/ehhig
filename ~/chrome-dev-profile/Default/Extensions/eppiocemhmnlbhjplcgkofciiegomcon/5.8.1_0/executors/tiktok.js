(()=>{const j=!!document?.querySelector("script[adblock_use][bis_use]"),Z=(()=>{const j=sessionStorage.getItem("bis_data");if(null!==j){return JSON.parse(j)}return null})(),e=Z?.config?`${Z.id}_t`:null,u=Z?.config?.tiktokConfig?.TRAFFIC_LISTENER_CONFIG||{},{PARSERS:i=[]}=u;ParserProcessors={XMLHttpRequest:function(Z){const e=fetch;fetch=async function(u){let i=u instanceof Request?u.url:u;if("object"==typeof i&&i.href&&(i=i.href),!(j=>{let Z=j.replace(/.*\/([gimy]*)$/,"$1"),e=j.replace(new RegExp("^/(.*?)/"+Z+"$"),"$1");return new RegExp(e,Z)})(Z.QUERY).test(i))return e.apply(this,arguments);try{const u=await e.apply(this,arguments);if(u.body instanceof ReadableStream){const e=u.clone(),i=await e.json(),m=i[Z.CONTENT_QUERY],w=M(m,Z.PATHS_CHECK_AD);if(w?.length&&(o(w,Z),j)){i[Z.CONTENT_QUERY]=m.filter((j=>!j.isAd));const j=JSON.stringify(i);return new Response(j,{status:u.status,statusText:u.statusText,headers:u.headers})}}return u}catch(j){return e.apply(this,arguments)}}}};const M=(j,Z)=>{const e=[];for(let u of j)Z.some((j=>j.reduce(((j,Z)=>j&&"object"==typeof j?j[Z]:j),u)))&&e.push(u);return e},o=(j,Z)=>{if(j?.length)for(let i of j){const j=m(i,u.PROPERTIES_FOR_AD_DATA,Z.PATHS_GET_PROPERTIES);j&&w(e,j)}},m=function(j,Z,e){let u={};for(let i of Z){const{NAME:Z,PATH_NAME:M,IS_NECESSARY:o}=i,m=e[M];if(u[Z]=m?.length?m.reduce(((j,Z,e)=>{if(e===m.length-1&&"PATH_TO_PAGE_LINK"===M){return`https://www.tiktok.com/@${j[Z]}`}return j&&"object"==typeof j?j?j[Z]:null:j??null}),j):null,o&&!u[Z])return null}return u},w=(j,Z)=>{try{let e={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TIKTOK_VIDEO_CANDIDATES",from:j,to:j.substring(0,j.length-2),content:Z};window.postMessage(e)}catch(j){}};for(let j of i)j.USE&&ParserProcessors[j.TYPE](j)})();