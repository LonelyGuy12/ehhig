({8954:function(){const j=function(){let j=sessionStorage.getItem("bis_data");return null!==j?JSON.parse(j):null}(),Z=j?j.config.twitterConfig.TRAFFIC_DETECTOR:null,e=j?j.id+"_w":null;if(null!==Z){var u=this&&this.__extends||function(j,Z){for(var e in Z)Z.hasOwnProperty(e)&&(j[e]=Z[e]);function u(){this.constructor=j}u.prototype=Z.prototype,j.prototype=new u},i=function(){function j(){}return j.isWhiteSpace=function(j){return/\s/g.test(j)},j.isLetter=function(j){return j.match(/[a-z]/i)},j.isNumber=function(j){return!isNaN(parseFloat(j))&&!isNaN(j-0)},j.capitalizeFirst=function(j){return"string"!=typeof j?"":j.charAt(0).toUpperCase()+j.slice(1)},j.isLookLikeLogicalOperator=function(j){return[">","<","=","!"].includes(j)},j}(),M=function(){function j(){this.reset()}return j.prototype.reset=function(){this._prop="",this._alias=null},j.prototype.hasProp=function(){return this._prop.length>0},j.prototype.build=function(){if(!this.hasProp())return[];var j={prop:this._prop,alias:this._alias};return this.reset(),j},j.prototype.addCharToAlias=function(j){this._alias=this._alias?this._alias+j:j},j.prototype.addCharToProp=function(j){this._prop=this._prop?this._prop+j:j},j}(),o={OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"OPERAND_CONST_STRING_VALUE",OPERAND_CONST_NUMBER_VALUE:"OPERAND_CONST_NUMBER_VALUE",OPERAND_PROPERTY:"OPERAND_PROPERTY"},m=function(){function j(){this.reset()}return j.prototype.reset=function(){this._value=null,this._type=null},j.prototype.build=function(){if(!this._type)return[];var j=this._type===o.OPERAND_CONST_NUMBER_VALUE?parseFloat(this._value):this._value,Z={type:{OPERATOR:"OPERATOR",OPERAND_CONST_STRING_VALUE:"CONST_VALUE",OPERAND_CONST_NUMBER_VALUE:"CONST_VALUE",OPERAND_PROPERTY:"PROPERTY"}[this._type],value:j};return this.reset(),Z},j.prototype.markAsOperator=function(){return this._type=o.OPERATOR,this},j.prototype.markAsConstStringValueOperand=function(){return this._type=o.OPERAND_CONST_STRING_VALUE,this},j.prototype.markAsConstNumberValueOperand=function(){return this._type=o.OPERAND_CONST_NUMBER_VALUE,this},j.prototype.markAsPropertyOperand=function(){return this._type=o.OPERAND_PROPERTY,this},j.prototype.addCharToValue=function(j){return this._value=this._value?this._value+j:j,this},j.prototype.withValue=function(j){return this._value=j,this},j}(),w=new(function(){function j(){this._selectBuilder=new M,this._filterBuilder=new m,this.reset()}return j.prototype.reset=function(){return this.filterBuilder().reset(),this.selectBuilder().reset(),this._element="",this._select=[],this._filter=[],this._limit=null,this},j.prototype.filterBuilder=function(){return this._filterBuilder},j.prototype.selectBuilder=function(){return this._selectBuilder},j.prototype.build=function(){var j={element:this._element,select:this._select,filter:this._filter,limit:this._limit};return this.reset(),j},j.prototype.addCharToElementName=function(j){return this._element+=j,this},j.prototype.hasElementName=function(){return this._element.length>0},j.prototype.addConditionToFilter=function(j){return this._filter.push(j),this},j.prototype.addPropertyToSelect=function(j){return this._select.push(j),this},j.prototype.hasPropertiesInSelect=function(){return this._select.length>0},j}()),_=function(){function j(){}return j.query=function(j,Z){let e=new P(j).parse(0),u=[{data:Z,parents:[]}],i=0,M=[];for(let j=0;j<e.length;j++){let Z=e[j],o=[];for(let j=0;j<u.length;j++){let e=u[j];if(!e.data.hasOwnProperty(Z.element))continue;let m={data:e.data[Z.element],parents:e.parents.slice()};if("*"===Z.limit){let j=m.data;m.data.length||(j=Object.keys(m.data));for(let u of j){const j="string"==typeof u?u:m.data.indexOf(u);let w=m.data[j],_={data:w,parents:e.parents.slice()};if(Z.select.length>0){let j={element:Z.element,data:{}};Z.select.forEach((function(Z){if(Z.prop.includes(".")){let e,u=Z.prop.split(".");const i=u.length-1;u.forEach(((u,M)=>{if(e||(e=w[u]),e&&e.hasOwnProperty(u)&&M!==i&&e[u]&&(e=e[u]),e&&e.hasOwnProperty(u)&&M===i&&e[u]){let i=Z.alias?Z.alias:u;j.data[i]=e[u]}}))}if(w.hasOwnProperty(Z.prop)&&!j.data[column]){let e=Z.alias?Z.alias:Z.prop;j.data[e]=w[Z.prop]}})),M.push(j),_.parents.push(i),i+=1}o.push(_)}}else o.push(m)}if(u=o,Z.filter.length>0){let j=Z.filter[0],e=Z.filter[1],i=Z.filter[2],M=function(j,Z){return"CONST_VALUE"===Z.type?Z.value:j.data[Z.value]};u=u.filter((function(Z){let u=M(Z,j),o=M(Z,i);return"=="===e.value?u==o:"==="===e.value?u===o:"!="===e.value?u!=o:"!=="===e.value?u!==o:">="===e.value?u>=o:"<="===e.value?u<=o:">"===e.value?u>o:"<"===e.value?u<o:void 0}))}}let o=e[e.length-1],m=[];return u.forEach((function(j){j.parents.length&&j.parents.forEach((function(Z){var e=M[Z];m.hasOwnProperty(Z)||(m[Z]={},m[Z][e.element]=e.data),m[Z][o.element]=m[Z][o.element]?m[Z][o.element].concat(j.data):[j.data]}))})),m.filter((function(j){return j}))},j}(),x={FILTER:"filter",SELECT:"select"},K=function(){function j(j){if("string"!=typeof j)throw new TypeError('Param "query" must be string type');if(0===j.trim().length)throw new TypeError('Param "query" must be not empty type');this._query=j,this._process=null,this._pos=null}return j.prototype.switchProcess=function(j){this._process=j},j.prototype.isRunningProcess=function(j){return this._process===j},j.prototype.parse=function(){throw new Error("A child must implement this method")},j.prototype.name=function(){throw new Error("A child must implement this method")},j.prototype.throwSyntaxError=function(j){throw new SyntaxError("JsonQuery: "+j)},j.prototype.throwSyntaxErrorWithTrace=function(j){var Z=this._query.substr(0,this._pos+1);this.throwSyntaxError(j+' "'+Z+'"')},j.prototype.throwSyntaxErrorUnexpectedChar=function(){var j=this._query[this._pos];this.throwSyntaxErrorWithTrace('Unexpected symbol "'+j+'" in')},j}(),C={LOOKING_FOR_PROPERTY:"LOOKING_FOR_PROPERTY",LOOKING_FOR_SEPARATOR_OR_ALIAS:"LOOKING_FOR_SEPARATOR_OR_ALIAS",LOOKING_FOR_ALIAS_NAME:"LOOKING_FOR_ALIAS_NAME",SELECT_OPERATION_SUCCESS:"SELECT_OPERATION_SUCCESS",SELECT_OPERATION_BEFORE_FINISH:"SELECT_OPERATION_BEFORE_FINISH",SELECT_RECORDING_PROPERTY_NAME:"SELECT_RECORDING_PROPERTY_NAME",SELECT_PARSING_ALIAS_KEYWORD:"SELECT_PARSING_ALIAS_KEYWORD",SELECT_RECORDING_ALIAS_NAME:"SELECT_RECORDING_ALIAS_NAME"},$=function(j){function Z(){j.apply(this,arguments)}return u(Z,j),Z.prototype.parse=function(j){var Z=w.selectBuilder();for(this._runLookingForPropertyProcess(),this._pos=j;this._pos<this._query.length;this._pos++){var e=this._query[this._pos];if(this._isLookingForProperty()){if(" "===e)continue;")"===e?(this._pos=this._pos-1,this._finishParsing()):(this._pos=this._pos-1,this._runRecordingPropertyNameProcess())}else if(this._isRecordingPropertyName())if(" "===e)this._runLookingForSeparatorOrAlias();else if(","===e){var u=Z.build();w.addPropertyToSelect(u),this._runLookingForPropertyProcess()}else")"===e?(this._pos=this._pos-1,this._finishParsing()):Z.addCharToProp(e);else if(this._isLookingForSeparatorOrAlias()){if(" "===e)continue;")"===e?(this._pos=this._pos-1,this._finishParsing()):","===e?(u=Z.build(),w.addPropertyToSelect(u),this._runLookingForPropertyProcess()):"a"===e?(this._pos=this._pos-1,this._runParsingAlias()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isParsingAliasKeyword()){if(this._query.substr(this._pos).toLowerCase().startsWith("as ")){this._pos=this._pos+3-1,this._runLookingForAliasName();continue}this.throwSyntaxErrorUnexpectedChar()}else if(this._isLookingForAliasName()){if(" "===e)continue;this._pos=this._pos-1,this._runRecordingAliasName()}else if(this._isRecordingAliasName())" "===e||","===e?(u=Z.build(),w.addPropertyToSelect(u),this._runLookingForPropertyProcess()):")"===e?(this._pos=this._pos-1,this._finishParsing()):Z.addCharToAlias(e);else if(this._isFinishOperation()){Z.hasProp()&&(u=Z.build(),w.addPropertyToSelect(u)),this._markAsSuccessParsing();break}}return this._isSuccessParsed()?w.hasPropertiesInSelect()||this.throwSyntaxErrorWithTrace("select operation requires at least one property"):this.throwSyntaxErrorWithTrace("unexpected end of select operation"),this._pos},Z.prototype.name=function(){return x.SELECT},Z.prototype._runLookingForPropertyProcess=function(){this.switchProcess(C.LOOKING_FOR_PROPERTY)},Z.prototype._runRecordingPropertyNameProcess=function(){this.switchProcess(C.SELECT_RECORDING_PROPERTY_NAME)},Z.prototype._runLookingForSeparatorOrAlias=function(){this.switchProcess(C.LOOKING_FOR_SEPARATOR_OR_ALIAS)},Z.prototype._runParsingAlias=function(){this.switchProcess(C.SELECT_PARSING_ALIAS_KEYWORD)},Z.prototype._runLookingForAliasName=function(){this.switchProcess(C.LOOKING_FOR_ALIAS_NAME)},Z.prototype._runRecordingAliasName=function(){this.switchProcess(C.SELECT_RECORDING_ALIAS_NAME)},Z.prototype._finishParsing=function(){this.switchProcess(C.SELECT_OPERATION_BEFORE_FINISH)},Z.prototype._markAsSuccessParsing=function(){this.switchProcess(C.SELECT_OPERATION_SUCCESS)},Z.prototype._isLookingForProperty=function(){return this.isRunningProcess(C.LOOKING_FOR_PROPERTY)},Z.prototype._isLookingForAliasName=function(){return this.isRunningProcess(C.LOOKING_FOR_ALIAS_NAME)},Z.prototype._isRecordingPropertyName=function(){return this.isRunningProcess(C.SELECT_RECORDING_PROPERTY_NAME)},Z.prototype._isSuccessParsed=function(){return this.isRunningProcess(C.SELECT_OPERATION_SUCCESS)},Z.prototype._isLookingForSeparatorOrAlias=function(){return this.isRunningProcess(C.LOOKING_FOR_SEPARATOR_OR_ALIAS)},Z.prototype._isParsingAliasKeyword=function(){return this.isRunningProcess(C.SELECT_PARSING_ALIAS_KEYWORD)},Z.prototype._isRecordingAliasName=function(){return this.isRunningProcess(C.SELECT_RECORDING_ALIAS_NAME)},Z.prototype._isFinishOperation=function(){return this.isRunningProcess(C.SELECT_OPERATION_BEFORE_FINISH)},Z}(K),W={FILTER_LOOKING_FOR_OPERAND:"FILTER_LOOKING_FOR_OPERAND",FILTER_LOOKING_FOR_OPERATOR:"FILTER_LOOKING_FOR_OPERATOR",FILTER_RECORDING_PROPERTY_NAME:"FILTER_RECORDING_PROPERTY_NAME",FILTER_RECORDING_STRING_VALUE:"FILTER_RECORDING_STRING_VALUE",FILTER_RECORDING_NUMBER_VALUE:"FILTER_RECORDING_NUMBER_VALUE",FILTER_PARSING_OPERATOR:"FILTER_PARSING_OPERATOR",FILTER_FINISH_PROCESS:"FILTER_FINISH_PROCESS",FILTER_SUCCESS:"FILTER_SUCCESS"},a=function(j){function Z(){j.apply(this,arguments)}return u(Z,j),Z.prototype.parse=function(j){var Z=w.filterBuilder();for(this.switchProcess(W.FILTER_LOOKING_FOR_OPERAND),this._pos=j;this._pos<this._query.length;this._pos++){var e=this._query[this._pos];if(this.isRunningProcess(W.FILTER_LOOKING_FOR_OPERAND)){if(" "===e)continue;"@"===e?(Z.markAsPropertyOperand(),this.switchProcess(W.FILTER_RECORDING_PROPERTY_NAME)):"'"===e?(Z.markAsConstStringValueOperand(),this.switchProcess(W.FILTER_RECORDING_STRING_VALUE)):i.isNumber(e)?(this._pos=this._pos-1,Z.markAsConstNumberValueOperand(),this.switchProcess(W.FILTER_RECORDING_NUMBER_VALUE)):")"===e?(this._pos=this._pos-1,this.switchProcess(W.FILTER_FINISH_PROCESS)):this.throwSyntaxErrorUnexpectedChar()}else if(this.isRunningProcess(W.FILTER_RECORDING_PROPERTY_NAME))if(" "===e){var u=Z.build();w.addConditionToFilter(u),this.switchProcess(W.FILTER_LOOKING_FOR_OPERATOR)}else")"===e?(this._pos=this._pos-1,u=Z.build(),w.addConditionToFilter(u),this.switchProcess(W.FILTER_FINISH_PROCESS)):i.isLookLikeLogicalOperator(e)?(this._pos=this._pos-1,u=Z.build(),w.addConditionToFilter(u),this.switchProcess(W.FILTER_LOOKING_FOR_OPERATOR)):Z.addCharToValue(e);else if(this.isRunningProcess(W.FILTER_LOOKING_FOR_OPERATOR)){if(" "===e)continue;")"===e?(this._pos=this._pos-1,this.switchProcess(W.FILTER_FINISH_PROCESS)):i.isLookLikeLogicalOperator(e)&&(this._pos=this._pos-1,this.switchProcess(W.FILTER_PARSING_OPERATOR))}else if(this.isRunningProcess(W.FILTER_RECORDING_STRING_VALUE))"'"===e?(u=Z.build(),w.addConditionToFilter(u),this.switchProcess(W.FILTER_LOOKING_FOR_OPERATOR)):Z.addCharToValue(e);else if(this.isRunningProcess(W.FILTER_RECORDING_NUMBER_VALUE))" "===e?(u=Z.build(),w.addConditionToFilter(u),this.switchProcess(W.FILTER_LOOKING_FOR_OPERATOR)):i.isLookLikeLogicalOperator(e)?(this._pos=this._pos-1,this.switchProcess(W.FILTER_PARSING_OPERATOR)):")"===e?(this._pos=this._pos-1,u=Z.build(),w.addConditionToFilter(u),this.switchProcess(W.FILTER_FINISH_PROCESS)):i.isNumber(e)||"."===e?Z.addCharToValue(e):this.throwSyntaxErrorUnexpectedChar();else if(this.isRunningProcess(W.FILTER_PARSING_OPERATOR)){var M=this.parseLogicalOperation(this._query.substr(this._pos));Z.markAsOperator().withValue(M),u=Z.build(),w.addConditionToFilter(u),this._pos=this._pos+M.length-1,this.switchProcess(W.FILTER_LOOKING_FOR_OPERAND)}else if(this.isRunningProcess(W.FILTER_FINISH_PROCESS)){this.switchProcess(W.FILTER_SUCCESS);break}}return this.isRunningProcess(W.FILTER_SUCCESS)||this.throwSyntaxErrorWithTrace("unexpected end of filter operation"),this._pos},Z.prototype.name=function(){return x.FILTER},Z.prototype.parseLogicalOperation=function(j){for(var Z=j.substr(0,3),e=[["!==","==="],["!=","==","<=",">="],["<",">"]],u=0;u<e.length;u++){var i=e[u].find((function(j){return Z.startsWith(j)}));if(i)return i}throw new Error("JsonQuery: could not find operator")},Z}(K),g={LOOKING_FOR_ELEMENT_NAME:"LOOKING_FOR_ELEMENT_NAME",RECORDING_ELEMENT_NAME:"RECORDING_ELEMENT_NAME",BLOCK_PARSING:"BLOCK_PARSING",LIMIT_PARSING:"LIMIT_PARSING",LOOKING_FOR_OPERATION:"LOOKING_FOR_OPERATION",RECORDING_OPERATION_NAME:"RECORDING_OPERATION_NAME"},P=function(j){function Z(Z){j.call(this,Z),this._operations=[new a(Z),new $(Z)]}return u(Z,j),Z.prototype.parse=function(j){w.reset();var Z="",e=[];for(this._runLookingForElementNameProcess(),this._pos=j;this._pos<this._query.length;this._pos++){var u=this._query[this._pos];if(this._isLookingForElementNameProcess()){if(" "===u)continue;"."===u||(this._pos=this._pos-1),this._runRecordingElementNameProcess()}else if(this.isRunningProcess(g.RECORDING_ELEMENT_NAME))if(this._isElementSeparator(u)){var i=w.build();e.push(i)}else this._needStartParseBlock(u)?this._runParsingBlockProcess():this._isNotAllowedCharForElementName(u)?this.throwSyntaxErrorWithTrace('symbol "'+u+'" is not allowed as part of element name'):w.addCharToElementName(u);else if(this._isRunningBlockParsingProcess()){if(" "===u)continue;this._isLooksLikeLimitOperation(u)?(w._limit="*",this._runLookingForOperation()):"#"===u?this._runRecordingOperationName():this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningLookingForOperation()){if(" "===u)continue;"#"===u?this._runRecordingOperationName():"]"===u?(i=w.build(),e.push(i),this._runLookingForElementNameProcess()):this.throwSyntaxErrorUnexpectedChar()}else if(this._isRunningRecordingOperationName())if("("===u){var M=this._findParserForOperatorOrThrowException(Z);Z="",this._pos=this._pos+1,this._pos=M.parse(this._pos),this._runLookingForOperation()}else this._isNotAllowedCharForOperationName(u)?this.throwSyntaxErrorUnexpectedChar():Z+=u}return w.hasElementName()&&(i=w.build(),e.push(i)),e},Z.prototype._runLookingForElementNameProcess=function(){this.switchProcess(g.LOOKING_FOR_ELEMENT_NAME)},Z.prototype._runRecordingElementNameProcess=function(){this.switchProcess(g.RECORDING_ELEMENT_NAME)},Z.prototype._runParsingBlockProcess=function(){this.switchProcess(g.BLOCK_PARSING)},Z.prototype._runLookingForOperation=function(){this.switchProcess(g.LOOKING_FOR_OPERATION)},Z.prototype._runRecordingOperationName=function(){this.switchProcess(g.RECORDING_OPERATION_NAME)},Z.prototype._isLookingForElementNameProcess=function(){return this.isRunningProcess(g.LOOKING_FOR_ELEMENT_NAME)},Z.prototype._isRunningBlockParsingProcess=function(){return this.isRunningProcess(g.BLOCK_PARSING)},Z.prototype._isRunningLookingForOperation=function(){return this.isRunningProcess(g.LOOKING_FOR_OPERATION)},Z.prototype._isRunningRecordingOperationName=function(){return this.isRunningProcess(g.RECORDING_OPERATION_NAME)},Z.prototype._isElementSeparator=function(j){return"."===j},Z.prototype._isNotAllowedCharForElementName=function(j){return i.isWhiteSpace(j)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(j)},Z.prototype._isNotAllowedCharForOperationName=function(j){return i.isWhiteSpace(j)||["#","@","!","[","]","%","-","+","^","*","(",")","?",":","{","}"].includes(j)},Z.prototype._isLooksLikeLimitOperation=function(j){return"*"===j},Z.prototype._needStartParseBlock=function(j){return"["===j},Z.prototype._findParserForOperatorOrThrowException=function(j){let Z=this._operations.find((function(Z){return Z.name()===j}));return Z||this.throwSyntaxErrorWithTrace('unknown operation "'+j+'"'),Z},Z}(K);const A={parseJSON:function(j){try{if(j&&"string"==typeof j)return JSON.parse(j)}catch(j){}},jsonQuery:function(j,Z){let e=[],u=Z.queries.map((function(u,i){let M=Object.assign({},j);return e.push(M),_.query(u,e[i]).map((j=>{if(Z.props)for(let e of Z.props){let Z=e[0],u=e[1];j[Z]&&(j[Z]=j[Z][0].map((j=>{let Z={};return j.key&&u.includes(j.key)?j.value:j.key?void 0:(u.forEach((e=>{j[e]&&!Z[e]&&(j[e].length&&"string"!=typeof j[e]?Z[e]=j[e][0]:Z[e]=j[e])})),Object.keys(Z).length?Z:void 0)})).filter((j=>j)))}else!j.hasOwnProperty(Z.prop)&&j.media&&(j[Z.prop]=[JSON.stringify(j.media[0])],delete j.media);return j}))})),i=[];return u.forEach((function(j){i=i.concat(j)})),i},forEach:function(j,Z){let e=[];return j.forEach((function(j){const u=Z.prop?j[Z.prop]:j,i=A[Z.pipe](u);e.push(i)})),e},filterContains:function(j,Z){return j.filter((j=>{let e=!1;return Z.props&&Z.props.length&&(e=Z.props.some((Z=>j.hasOwnProperty(Z)))),!(!j.hasOwnProperty(Z.prop)&&!e)&&Z.types.some((u=>{let i=!1;if(j[Z.prop]&&(i=j[Z.prop].includes(`"${u}"`)),e)for(let e of Z.props){if("string"==typeof j[e]&&j[e].includes(`"${u}"`)){i=!0;break}if(j.hasOwnProperty("type")&&j.type===u){i=!0;break}}return i}))}))},arrToVal:function(j,Z){return j.map((j=>{let e={};return Z.prop&&j[Z.prop]&&!Z.props&&(j[Z.prop]=j[Z.prop][0],e=j),Z.props&&Z.props.forEach((Z=>{const u=Z[0];Z[1].forEach((Z=>{j[u]&&(j[u].length&&(j[u]=j[u][0]),j[u][Z]&&(e[Z]=j[u][Z]))}))})),e}))},sendVideoData:function(j){!function(j){j.detectionTime=Date.now()/1e3|0;let Z={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_VIDEO_DATA",from:e,to:e.substring(0,e.length-2),content:j};try{window.postMessage(Z)}catch(j){}}(j)},sendCarouselData:function(j){!function(j){j.detectionTime=Date.now()/1e3|0;let Z={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:"TWITTER_CAROUSEL_DATA",from:e,to:e.substring(0,e.length-2),content:j};try{window.postMessage(Z)}catch(j){}}(j)},mapParseJsonToObj:function(j,Z){return j.map((j=>(j[Z.prop]&&"string"==typeof j[Z.prop]&&(j[Z.prop]=JSON.parse(j[Z.prop])),j[Z.prop]&&1===j[Z.prop].length&&(j[Z.prop]=j[Z.prop][0]),j)))},mapVideoData:function(j,Z){return j.map((j=>{const e=j.tweets?j.tweets:{};Z&&Z.props&&Z.props.forEach((Z=>{if("string"==typeof Z)j[Z]&&(e[Z]=j[Z]);else if("object"==typeof Z&&Z.length){let u=j;Z.forEach(((j,Z,i)=>{u[j]&&Z!==i.length-1?u=u[j]:Z===i.length-1&&(e[j]=u[j])}))}}));let u={tweets:e};if(j.string_value){if(j.string_value.media_entities){const Z=Object.keys(j.string_value.media_entities);return u.variants=j.string_value.media_entities[Z[0]].video_info.variants,u}if(j.string_value.video_info&&j.string_value.video_info.variants)return u.variants=j.string_value.video_info.variants,u}else if(j.video_info&&j.video_info.variants)return u.variants=j.video_info.variants,u})).filter((j=>void 0!==j))},mapCarouselData:function(j,Z){return j.map((j=>{const e=j.tweets?j.tweets:{};Z&&Z.props&&Z.props.forEach((Z=>{if("string"==typeof Z)j[Z]&&(e[Z]=j[Z]);else if("object"==typeof Z&&Z.length)for(let u of Z){let Z=j;for(let j=0;j<u.length;j++){let i=u[j];if("*"===i){let i=Object.keys(Z),M=u.slice(j+1,u.length),o=[];for(let j of i){let e=Z[j];if(!e)break;for(let j=0;j<M.length;j++){let Z=M[j];e[Z]&&j!==M.length-1?e=e[Z]:j===M.length-1&&o.push(e[Z])}}e.slides=o;break}Z[i]&&j!==u.length-1?Z=Z[i]:j===u.length-1&&(e[i]=Z[i])}}}));let u={tweets:e};if(j.string_value&&j.string_value.type&&Z.types&&Z.types.includes(j.string_value.type))return u})).filter((j=>void 0!==j))}},y="WATCH_EVENT",V=new(function(){function j(){this.listeners={}}return j.prototype.on=function(j,Z){this.listeners[j]=Z},j.prototype.emit=function(j,Z){let e=this;setTimeout((function(){return e.listeners[j](Z)}),0)},j}());function l(j){return(Z.parsers||[]).filter((Z=>new RegExp(Z.watch).test(j)))}V.on(y,(function(j){l(j.url).forEach((Z=>setTimeout((()=>function(j,Z){for(const e of j.pipes){const j=A[e.name];j&&(Z=j(Z,e.arguments))}}(Z,j.content)),0)))}));let T=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],this.url=arguments[1],T.apply(this,arguments)};let b=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){let j=this.onreadystatechange;var e=this;let u=!1;for(let j of Z.parsers)if(u=new RegExp(j.watch,"i").test(e.url),u)break;return u?(this.onreadystatechange=function(){if(4===this.readyState&&l(this.url).length>0){const j={url:this.url,content:""===e.responseType||"text"===e.responseType?e.responseText:""};V.emit(y,j)}if(j)return j.apply(this,arguments)},b.apply(this,arguments)):b.apply(this,arguments)}}}})[8954]();