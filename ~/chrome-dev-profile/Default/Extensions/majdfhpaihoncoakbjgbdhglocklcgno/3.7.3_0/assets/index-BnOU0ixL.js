import{o as P,_ as de,f as E,h as he,S as oe,b as z,j as pe,e as ee,g as Nt,n as U,p as M,s as $,q as Ve,z as zn,F as tt,k as _n,a as Rn,t as Vn}from"./index-zKAIDSer.js";const I=r=>typeof r=="string",Le=()=>{let r,e;const t=new Promise((n,i)=>{r=n,e=i});return t.resolve=r,t.reject=e,t},Bt=r=>r==null?"":""+r,Bn=(r,e,t)=>{r.forEach(n=>{e[n]&&(t[n]=e[n])})},Hn=/###/g,Ht=r=>r&&r.indexOf("###")>-1?r.replace(Hn,"."):r,Wt=r=>!r||I(r),Fe=(r,e,t)=>{const n=I(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Wt(r))return{};const s=Ht(n[i]);!r[s]&&t&&(r[s]=new t),Object.prototype.hasOwnProperty.call(r,s)?r=r[s]:r={},++i}return Wt(r)?{}:{obj:r,k:Ht(n[i])}},Kt=(r,e,t)=>{const{obj:n,k:i}=Fe(r,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let s=e[e.length-1],o=e.slice(0,e.length-1),c=Fe(r,o,Object);for(;c.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),c=Fe(r,o,Object),c?.obj&&typeof c.obj[`${c.k}.${s}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${s}`]=t},Wn=(r,e,t,n)=>{const{obj:i,k:s}=Fe(r,e,Object);i[s]=i[s]||[],i[s].push(t)},nt=(r,e)=>{const{obj:t,k:n}=Fe(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},Kn=(r,e,t)=>{const n=nt(r,t);return n!==void 0?n:nt(e,t)},En=(r,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in r?I(r[n])||r[n]instanceof String||I(e[n])||e[n]instanceof String?t&&(r[n]=e[n]):En(r[n],e[n],t):r[n]=e[n]);return r},we=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gn=r=>I(r)?r.replace(/[&<>"'\/]/g,e=>qn[e]):r;class Yn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Jn=[" ",",","?","!",";"],Xn=new Yn(20),Zn=(r,e,t)=>{e=e||"",t=t||"";const n=Jn.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(n.length===0)return!0;const i=Xn.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(r);if(!s){const o=r.indexOf(t);o>0&&!i.test(r.substring(0,o))&&(s=!0)}return s},Rt=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const n=e.split(t);let i=r;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,c="";for(let l=s;l<n.length;++l)if(l!==s&&(c+=t),c+=n[l],o=i[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=o}return i},Be=r=>r?.replace("_","-"),Qn={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};class it{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Qn,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(I(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new it(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new it(this.logger,e)}}var Z=new it;class ut{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...t])})}}class qt extends ut{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,i={}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],n&&(Array.isArray(n)?c.push(...n):I(n)&&s?c.push(...n.split(s)):c.push(n)));const l=nt(this.data,c);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=c[0],t=c[1],n=c.slice(2).join(".")),l||!o||!I(n)?l:Rt(this.data?.[e]?.[t],n,s)}addResource(e,t,n,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let c=[e,t];n&&(c=c.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),Kt(this.data,c,i),s.silent||this.emit("added",e,t,n,i)}addResources(e,t,n,i={silent:!1}){for(const s in n)(I(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,s,o={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=n,n=t,t=c[1]),this.addNamespaces(t);let l=nt(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?En(l,n,s):l={...l,...n},Kt(this.data,c,l),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var Pn={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,n,i){return r.forEach(s=>{e=this.processors[s]?.process(e,t,n,i)??e}),e}};const Ln=Symbol("i18next/PATH_KEY");function ei(){const r=[],e=Object.create(null);let t;return e.get=(n,i)=>(t?.revoke?.(),i===Ln?r:(r.push(i),t=Proxy.revocable(n,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Et(r,e){const{[Ln]:t}=r(ei());return t.join(e?.keySeparator??".")}const Gt={},Yt=r=>!I(r)&&typeof r!="boolean"&&typeof r!="number";class st extends ut{constructor(e,t={}){super(),Bn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Z.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Zn(e,n,i);if(o&&!c){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:I(s)?[s]:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:I(s)?[s]:s}}translate(e,t,n){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Et(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:l}=this.extractFromKey(e[e.length-1],i),u=l[l.length-1];let v=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const w=i.lng||this.language,k=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(w?.toLowerCase()==="cimode")return k?s?{res:`${u}${v}${c}`,usedKey:c,exactUsedKey:c,usedLng:w,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${v}${c}`:s?{res:c,usedKey:c,exactUsedKey:c,usedLng:w,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:c;const S=this.resolve(e,i);let a=S?.res;const d=S?.usedKey||c,f=S?.exactUsedKey||c,h=["[object Number]","[object Function]","[object RegExp]"],x=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,_=i.count!==void 0&&!I(i.count),V=st.hasDefaultValue(i),te=_?this.pluralResolver.getSuffix(w,i.count,i):"",W=i.ordinal&&_?this.pluralResolver.getSuffix(w,i.count,{ordinal:!1}):"",Mt=_&&!i.ordinal&&i.count===0,re=Mt&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${te}`]||i[`defaultValue${W}`]||i.defaultValue;let K=a;C&&!a&&V&&(K=re);const Mn=Yt(K),Fn=Object.prototype.toString.apply(K);if(C&&K&&Mn&&h.indexOf(Fn)<0&&!(I(x)&&Array.isArray(K))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,K,{...i,ns:l}):`key '${c} (${this.language})' returned an object instead of string.`;return s?(S.res=q,S.usedParams=this.getUsedParamsDetails(i),S):q}if(o){const q=Array.isArray(K),B=q?[]:{},Ft=q?f:d;for(const G in K)if(Object.prototype.hasOwnProperty.call(K,G)){const ne=`${Ft}${o}${G}`;V&&!a?B[G]=this.translate(ne,{...i,defaultValue:Yt(re)?re[G]:void 0,joinArrays:!1,ns:l}):B[G]=this.translate(ne,{...i,joinArrays:!1,ns:l}),B[G]===ne&&(B[G]=K[G])}a=B}}else if(C&&I(x)&&Array.isArray(a))a=a.join(x),a&&(a=this.extendTranslation(a,e,i,n));else{let q=!1,B=!1;!this.isValidLookup(a)&&V&&(q=!0,a=re),this.isValidLookup(a)||(B=!0,a=c);const G=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&B?void 0:a,ne=V&&re!==a&&this.options.updateMissing;if(B||q||ne){if(this.logger.log(ne?"updateKey":"missingKey",w,u,c,ne?re:a),o){const j=this.resolve(c,{...i,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ee=[];const Ke=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ke&&Ke[0])for(let j=0;j<Ke.length;j++)Ee.push(Ke[j]);else this.options.saveMissingTo==="all"?Ee=this.languageUtils.toResolveHierarchy(i.lng||this.language):Ee.push(i.lng||this.language);const zt=(j,ge,Pe)=>{const Vt=V&&Pe!==a?Pe:G;this.options.missingKeyHandler?this.options.missingKeyHandler(j,u,ge,Vt,ne,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(j,u,ge,Vt,ne,i),this.emit("missingKey",j,u,ge,a)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?Ee.forEach(j=>{const ge=this.pluralResolver.getSuffixes(j,i);Mt&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&ge.push(`${this.options.pluralSeparator}zero`),ge.forEach(Pe=>{zt([j],c+Pe,i[`defaultValue${Pe}`]||re)})}):zt(Ee,c,re))}a=this.extendTranslation(a,e,i,S,n),B&&a===c&&this.options.appendNamespaceToMissingKey&&(a=`${u}${v}${c}`),(B||q)&&this.options.parseMissingKeyHandler&&(a=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${v}${c}`:c,q?a:void 0,i))}return s?(S.res=a,S.usedParams=this.getUsedParamsDetails(i),S):a}extendTranslation(e,t,n,i,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const l=I(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const w=e.match(this.interpolator.nestingRegexp);u=w&&w.length}let v=n.replace&&!I(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,n.lng||this.language||i.usedLng,n),l){const w=e.match(this.interpolator.nestingRegexp),k=w&&w.length;u<k&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...w)=>s?.[0]===w[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${t[0]}`),null):this.translate(...w,t),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=I(o)?[o]:o;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=Pn.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,i,s,o,c;return I(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,t),v=u.key;i=v;let w=u.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const k=t.count!==void 0&&!I(t.count),S=k&&!t.ordinal&&t.count===0,a=t.context!==void 0&&(I(t.context)||typeof t.context=="number")&&t.context!=="",d=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(f=>{this.isValidLookup(n)||(c=f,!Gt[`${d[0]}-${f}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Gt[`${d[0]}-${f}`]=!0,this.logger.warn(`key "${i}" for languages "${d.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach(h=>{if(this.isValidLookup(n))return;o=h;const x=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(x,v,h,f,t);else{let _;k&&(_=this.pluralResolver.getSuffix(h,t.count,t));const V=`${this.options.pluralSeparator}zero`,te=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(k&&(t.ordinal&&_.indexOf(te)===0&&x.push(v+_.replace(te,this.options.pluralSeparator)),x.push(v+_),S&&x.push(v+V)),a){const W=`${v}${this.options.contextSeparator||"_"}${t.context}`;x.push(W),k&&(t.ordinal&&_.indexOf(te)===0&&x.push(W+_.replace(te,this.options.pluralSeparator)),x.push(W+_),S&&x.push(W+V))}}let C;for(;C=x.pop();)this.isValidLookup(n)||(s=C,n=this.getResource(h,f,C,t))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!I(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class Jt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Z.create("languageUtils")}getScriptPartFromCode(e){if(e=Be(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Be(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(I(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return t=i;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),I(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return I(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):I(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Xt={zero:0,one:1,two:2,few:3,many:4,other:5},Zt={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ti{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Z.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Be(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Zt;if(!e.match(/-|_/))return Zt;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[s]=o,o}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>Xt[i]-Xt[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Qt=(r,e,t,n=".",i=!0)=>{let s=Kn(r,e,t);return!s&&i&&I(t)&&(s=Rt(r,t,n),s===void 0&&(s=Rt(e,t,n))),s},ft=r=>r.replace(/\$/g,"$$$$");class ni{constructor(e={}){this.logger=Z.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:c,suffixEscaped:l,formatSeparator:u,unescapeSuffix:v,unescapePrefix:w,nestingPrefix:k,nestingPrefixEscaped:S,nestingSuffix:a,nestingSuffixEscaped:d,nestingOptionsSeparator:f,maxReplaces:h,alwaysFormat:x}=e.interpolation;this.escape=t!==void 0?t:Gn,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?we(s):o||"{{",this.suffix=c?we(c):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=v?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=k?we(k):S||we("$t("),this.nestingSuffix=a?we(a):d||we(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=h||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t?.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let s,o,c;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=S=>{if(S.indexOf(this.formatSeparator)<0){const h=Qt(t,l,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(h,void 0,n,{...i,...t,interpolationkey:S}):h}const a=S.split(this.formatSeparator),d=a.shift().trim(),f=a.join(this.formatSeparator).trim();return this.format(Qt(t,l,d,this.options.keySeparator,this.options.ignoreJSONStructure),f,n,{...i,...t,interpolationkey:d})};this.resetRegExp();const v=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,w=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ft(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ft(this.escape(S)):ft(S)}].forEach(S=>{for(c=0;s=S.regex.exec(e);){const a=s[1].trim();if(o=u(a),o===void 0)if(typeof v=="function"){const f=v(e,s,i);o=I(f)?f:""}else if(i&&Object.prototype.hasOwnProperty.call(i,a))o="";else if(w){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${a} for interpolating ${e}`),o="";else!I(o)&&!this.useRawValueToEscape&&(o=Bt(o));const d=S.safeValue(o);if(e=e.replace(s[0],d),w?(S.regex.lastIndex+=o.length,S.regex.lastIndex-=s[0].length):S.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,n={}){let i,s,o;const c=(l,u)=>{const v=this.nestingOptionsSeparator;if(l.indexOf(v)<0)return l;const w=l.split(new RegExp(`${v}[ ]*{`));let k=`{${w[1]}`;l=w[0],k=this.interpolate(k,o);const S=k.match(/'/g),a=k.match(/"/g);((S?.length??0)%2===0&&!a||a.length%2!==0)&&(k=k.replace(/'/g,'"'));try{o=JSON.parse(k),u&&(o={...u,...o})}catch(d){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,d),`${l}${v}${k}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!I(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(l=i[1].slice(u).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=t(c.call(this,i[1].trim(),o),o),s&&i[0]===e&&!I(s))return s;I(s)||(s=Bt(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((v,w)=>this.format(v,w,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const ii=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const n=r.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(o=>{if(o){const[c,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),v=c.trim();t[v]||(t[v]=u),u==="false"&&(t[v]=!1),u==="true"&&(t[v]=!0),isNaN(u)||(t[v]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},en=r=>{const e={};return(t,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let c=e[o];return c||(c=r(Be(n),i),e[o]=c),c(t)}},si=r=>(e,t,n)=>r(Be(t),n)(e);class oi{constructor(e={}){this.logger=Z.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?en:si;this.formats={number:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return c=>o.format(c)}),currency:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return c=>o.format(c)}),datetime:n((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return c=>o.format(c)}),relativetime:n((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return c=>o.format(c,s.range||"day")}),list:n((i,s)=>{const o=new Intl.ListFormat(i,{...s});return c=>o.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=en(t)}format(e,t,n,i={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(c=>c.indexOf(")")>-1)){const c=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,c)].join(this.formatSeparator)}return s.reduce((c,l)=>{const{formatName:u,formatOptions:v}=ii(l);if(this.formats[u]){let w=c;try{const k=i?.formatParams?.[i.interpolationkey]||{},S=k.locale||k.lng||i.locale||i.lng||n;w=this.formats[u](c,S,{...v,...i,...k})}catch(k){this.logger.warn(k)}return w}else this.logger.warn(`there was no format function for ${u}`);return c},e)}}const ri=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class ai extends ut{constructor(e,t,n,i={}){super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Z.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,t,n,i){const s={},o={},c={},l={};return e.forEach(u=>{let v=!0;t.forEach(w=>{const k=`${u}|${w}`;!n.reload&&this.store.hasResourceBundle(u,w)?this.state[k]=2:this.state[k]<0||(this.state[k]===1?o[k]===void 0&&(o[k]=!0):(this.state[k]=1,v=!1,o[k]===void 0&&(o[k]=!0),s[k]===void 0&&(s[k]=!0),l[w]===void 0&&(l[w]=!0)))}),v||(c[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){const i=e.split("|"),s=i[0],o=i[1];t&&this.emit("failedLoading",s,o,t),!t&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const c={};this.queue.forEach(l=>{Wn(l.loaded,[s],o),ri(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{c[u]||(c[u]={});const v=l.loaded[u];v.length&&v.forEach(w=>{c[u][w]===void 0&&(c[u][w]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(l=>!l.done)}read(e,t,n,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const c=(u,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(u&&v&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,s*2,o)},s);return}o(u,v)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(v=>c(null,v)).catch(c):c(null,u)}catch(u){c(u)}return}return l(e,t,c)}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();I(e)&&(e=this.languageUtils.toResolveHierarchy(e)),I(t)&&(t=[t]);const s=this.queueLoad(e,t,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,o),!o&&c&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,c),this.loaded(e,o,c)})}saveMissing(e,t,n,i,s,o={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let v;u.length===5?v=u(e,t,n,i,l):v=u(e,t,n,i),v&&typeof v.then=="function"?v.then(w=>c(null,w)).catch(c):c(null,v)}catch(v){c(v)}else u(e,t,n,i,c,l)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const tn=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),I(r[1])&&(e.defaultValue=r[1]),I(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),nn=r=>(I(r.ns)&&(r.ns=[r.ns]),I(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),I(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),qe=()=>{},ci=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class He extends ut{constructor(e={},t){if(super(),this.options=nn(e),this.services={},this.logger=Z,this.modules={external:[]},ci(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(I(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=tn();this.options={...n,...this.options,...nn(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Z.init(i(this.modules.logger),this.options):Z.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=oi;const v=new Jt(this.options);this.store=new qt(this.options.resources,this.options);const w=this.services;w.logger=Z,w.resourceStore=this.store,w.languageUtils=v,w.pluralResolver=new ti(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(w.formatter=i(u),w.formatter.init&&w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new ni(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new ai(i(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",(S,...a)=>{this.emit(S,...a)}),this.modules.languageDetector&&(w.languageDetector=i(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=i(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new st(this.services,this.options),this.translator.on("*",(S,...a)=>{this.emit(S,...a)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,t||(t=qe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...v)=>this.store[u](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...v)=>(this.store[u](...v),this)});const c=Le(),l=()=>{const u=(v,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(w),t(v,w)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),c}loadResources(e,t=qe){let n=t;const i=I(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload?.forEach?.(c=>o(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,t,n){const i=Le();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=qe),this.services.backendConnector.reload(e,t,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Pn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=Le();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),t&&t(c,(...u)=>this.t(...u))},o=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const l=I(c)?c:c&&c[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(I(c)?[c]:c);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,v=>{s(v,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,t,n){const i=(s,o,...c)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(c)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||i.keyPrefix);const u=this.options.keySeparator||".";let v;return l.keyPrefix&&Array.isArray(s)?v=s.map(w=>(typeof w=="function"&&(w=Et(w,{...this.options,...o})),`${l.keyPrefix}${u}${w}`)):(typeof s=="function"&&(s=Et(s,{...this.options,...o})),v=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(v,l)};return I(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,l)=>{const u=this.services.backendConnector.state[`${c}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const c=t.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,t){const n=Le();return this.options.ns?(I(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Le();I(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),t&&t(o)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Jt(tn());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new He(e,t)}cloneInstance(e={},t=qe){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new He(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(c=>{s[c]=this[c]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const c=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((v,w)=>(v[w]={...l[u][w]},v),l[u]),l),{});s.store=new qt(c,i),s.services.resourceStore=s.store}return s.translator=new st(s.services,i),s.translator.on("*",(c,...l)=>{s.emit(c,...l)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const T=He.createInstance();T.createInstance=He.createInstance;T.createInstance;T.dir;T.init;T.loadResources;T.reloadResources;T.use;T.changeLanguage;T.getFixedT;T.t;T.exists;T.setDefaultNamespace;T.hasLoadedNamespace;T.loadNamespaces;T.loadLanguages;const Tn=["en","ru","vi","uk","pl","it","fr","nl","da","es","de","zh_CN","ar"],Ze="en",li=new Map([["en","English"],["ru","Русский"],["vi","Tiếng Việt"],["uk","Українська"],["pl","Polskie"],["it","Italiano"],["fr","Français"],["nl","Nederlands"],["da","Dansk"],["es","Español"],["de","Deutsche"],["zh_CN","繁體中文"],["ar","العربية"]]),ui=P({locale:de(Tn).optional().describe(E.persist)}).default({}),di=new he(ui);function sn(r){return!!(r&&typeof r=="string"&&Tn.includes(r))}const hi={"connect-status":{off:"أنت غير متصل",on:"أنت متصل بـ {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"فشل الاتصال، يرجى تعطيل الملحقات الأخرى.","not-controllable":"فشل الاتصال، ولا يمكن التحكم في وكيل المتصفح.","no-location":"خطأ في الاتصال، موقع الاتصال مفقود.","server-config":"خطأ في الاتصال، لا يمكن جلب تكوين الخادم.",captive:"فشل الاتصال، لا يمكن تأسيس اتصال الوكيل.","no-internet":"خطأ في الاتصال، لا يوجد اتصال بالشبكة."},"disconnect-errors":{"remove-proxy":"خطأ في قطع الاتصال، فشلت عملية إزالة قواعد الوكيل."},"download-notification":{title:"جرّب عميل الوكيل لسطح المكتب الخاص بنا",message:"حماية اتصالك بالإنترنت بالكامل، وليس المتصفح فقط"},"update-notification":{title:"تم تحديث الإضافة",message:"مرحبا بك في {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"يتم التحكم في الإعداد بواسطة ملحق آخر.","not-controllable":"الإعداد لا يمكن التحكم فيه من خلال إعدادات المتصفح الخاص بك.","remove-webrtc":"لا يمكن مسح إعدادات WebRTC."}},pi=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"})),fi={"connect-status":{off:"Du er ikke forbundet",on:"Du er forbundet til {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Forbindelsen mislykkedes. Deaktiver venligst andre udvidelser.","not-controllable":"Forbindelsen mislykkedes, browserproxy kan ikke kontrolleres.","no-location":"Forbindelsesfejl, manglende forbindelsesplacering.","server-config":"Forbindelsesfejl, serverkonfigurationen kan ikke hentes.",captive:"Forbindelsen mislykkedes, kan ikke oprette proxyforbindelse.","no-internet":"Forbindelsesfejl, ingen netværksforbindelse."},"disconnect-errors":{"remove-proxy":"Afbrydelsesfejl, fjernelse af proxyregler mislykkedes."},"download-notification":{title:"Prøv vores Desktop Proxy-klient",message:"Beskyt hele din internetforbindelse, ikke kun browseren"},"update-notification":{title:"Udvidelse opdateret",message:"Velkommen til {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Indstilling kontrolleret af anden udvidelse.","not-controllable":"Indstillingen kan ikke kontrolleres via dine browserindstillinger.","remove-webrtc":"Kan ikke rydde WebRTC-indstillinger."}},gi=Object.freeze(Object.defineProperty({__proto__:null,default:fi},Symbol.toStringTag,{value:"Module"})),mi={"connect-status":{off:"Sie sind nicht verbunden",on:"Sie sind mit {{tr_location}} verbunden"},"connect-errors":{"controlled-by-other-extensions":"Die Verbindung ist fehlgeschlagen. Bitte deaktivieren Sie andere Erweiterungen.","not-controllable":"Verbindung fehlgeschlagen, Browser-Proxy ist nicht steuerbar.","no-location":"Verbindungsfehler, Verbindungsstandort fehlt.","server-config":"Verbindungsfehler, Serverkonfiguration kann nicht abgerufen werden.",captive:"Verbindung fehlgeschlagen, Proxy-Verbindung kann nicht hergestellt werden.","no-internet":"Verbindungsfehler, keine Netzwerkverbindung."},"disconnect-errors":{"remove-proxy":"Fehler beim Trennen der Verbindung. Das Entfernen der Proxy-Regeln ist fehlgeschlagen."},"download-notification":{title:"Probieren Sie unseren Desktop-Proxy-Client aus",message:"Schützen Sie Ihre gesamte Internetverbindung, nicht nur den Browser"},"update-notification":{title:"Erweiterung aktualisiert",message:"Willkommen zu {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Einstellung wird von einer anderen Nebenstelle gesteuert.","not-controllable":"Die Einstellung kann nicht über Ihre Browsereinstellungen gesteuert werden.","remove-webrtc":"WebRTC-Einstellungen können nicht gelöscht werden."}},bi=Object.freeze(Object.defineProperty({__proto__:null,default:mi},Symbol.toStringTag,{value:"Module"})),wi={"connect-status":{off:"You are not connected",on:"You are connected to {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connection failed. Please disable other extensions.","not-controllable":"Connection failed. Browser proxy is not controllable.","no-location":"Connection Error. Missing connection location.","server-config":"Connection Error. Can't fetch server config.",captive:"Connection failed. Cannot establish proxy connection.","no-internet":"Connection Error. No Network connection."},"disconnect-errors":{"remove-proxy":"Disconnect Error. Proxy rules remove failed."},"download-notification":{title:"Try our Desktop Proxy Client",message:"Protect your entire internet connection, not just browser"},"update-notification":{title:"Extension updated",message:"Welcome to {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Setting controlled by other extension.","not-controllable":"Setting not controllable through your browser settings.","remove-webrtc":"Can't clear WebRTC settings."}},vi=Object.freeze(Object.defineProperty({__proto__:null,default:wi},Symbol.toStringTag,{value:"Module"})),yi={"connect-status":{off:"No está conectado",on:"Estás conectado a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La conexión falló. Desactive otras extensiones.","not-controllable":"La conexión falló, el proxy del navegador no es controlable.","no-location":"Error de conexión, falta ubicación de conexión.","server-config":"Error de conexión, no se puede recuperar la configuración del servidor.",captive:"La conexión falló, no se puede establecer la conexión proxy.","no-internet":"Error de conexión, sin conexión de red."},"disconnect-errors":{"remove-proxy":"Error de desconexión, error al eliminar las reglas de proxy."},"download-notification":{title:"Prueba nuestro Cliente Proxy de Escritorio",message:"Proteja toda su conexión a Internet, no sólo el navegador"},"update-notification":{title:"Extensión actualizada",message:"Bienvenido a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Configuración controlada por otra extensión.","not-controllable":"Configuración no controlable a través de la configuración de su navegador.","remove-webrtc":"No se puede borrar la configuración de WebRTC."}},xi=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"})),Si={"connect-status":{off:"Vous n'êtes pas connecté",on:"Vous êtes connecté à {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"La connexion a échoué. Veuillez désactiver les autres extensions.","not-controllable":"La connexion a échoué, le proxy du navigateur n'est pas contrôlable.","no-location":"Erreur de connexion, emplacement de connexion manquant.","server-config":"Erreur de connexion, impossible de récupérer la configuration du serveur.",captive:"Échec de la connexion, impossible d'établir une connexion proxy.","no-internet":"Erreur de connexion, pas de connexion réseau."},"disconnect-errors":{"remove-proxy":"Erreur de déconnexion. La suppression des règles de proxy a échoué."},"download-notification":{title:"Essayez notre client Proxy de bureau",message:"Protégez l'ensemble de votre connexion Internet, et pas seulement votre navigateur"},"update-notification":{title:"Extension mise à jour",message:"Bienvenue à {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Paramètre contrôlé par une autre extension.","not-controllable":"Paramètre non contrôlable via les paramètres de votre navigateur.","remove-webrtc":"Impossible d'effacer les paramètres WebRTC."}},Ci=Object.freeze(Object.defineProperty({__proto__:null,default:Si},Symbol.toStringTag,{value:"Module"})),ki={"connect-status":{off:"Non siete connessi",on:"Sei connesso a {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Connessione non riuscita. Disattiva le altre estensioni.","not-controllable":"Connessione non riuscita, il proxy del browser non è controllabile.","no-location":"Errore di connessione, posizione della connessione mancante.","server-config":"Errore di connessione, impossibile recuperare la configurazione del server.",captive:"Connessione non riuscita, impossibile stabilire una connessione proxy.","no-internet":"Errore di connessione, nessuna connessione di rete."},"disconnect-errors":{"remove-proxy":"Errore di disconnessione, rimozione delle regole proxy non riuscita."},"download-notification":{title:"Prova il nostro Client Proxy Desktop",message:"Proteggere l'intera connessione a Internet, non solo il browser"},"update-notification":{title:"Estensione aggiornata",message:"Benvenuto a {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Impostazione controllata da un altro interno.","not-controllable":"Impostazione non controllabile tramite le impostazioni del browser.","remove-webrtc":"Impossibile cancellare le impostazioni WebRTC."}},Ii=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"})),Oi={"connect-status":{off:"U bent niet verbonden",on:"Je bent verbonden met {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Verbinding mislukt. Schakel andere extensies uit.","not-controllable":"Verbinding mislukt, browserproxy kan niet worden beheerd.","no-location":"Verbindingsfout, ontbrekende verbindingslocatie.","server-config":"Verbindingsfout, kan serverconfiguratie niet ophalen.",captive:"Verbinding mislukt. Kan geen proxyverbinding tot stand brengen.","no-internet":"Verbindingsfout, geen netwerkverbinding."},"disconnect-errors":{"remove-proxy":"Verbindingsfout, verwijderen van proxyregels mislukt."},"download-notification":{title:"Probeer onze Desktop Proxy Client",message:"Bescherm je hele internetverbinding, niet alleen je browser"},"update-notification":{title:"Extensie bijgewerkt",message:"Welkom bij {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Instelling beheerd door een ander toestel.","not-controllable":"Instelling kan niet worden beheerd via uw browserinstellingen.","remove-webrtc":"Kan WebRTC-instellingen niet wissen."}},_i=Object.freeze(Object.defineProperty({__proto__:null,default:Oi},Symbol.toStringTag,{value:"Module"})),Ri={"connect-status":{off:"Nie jesteś połączony",on:"Jesteś połączony z {{tr_location}}."},"connect-errors":{"controlled-by-other-extensions":"Połączenie nie powiodło się. Wyłącz inne rozszerzenia.","not-controllable":"Połączenie nie powiodło się, nie można kontrolować serwera proxy przeglądarki.","no-location":"Błąd połączenia, brak lokalizacji połączenia.","server-config":"Błąd połączenia. Nie można pobrać konfiguracji serwera.",captive:"Połączenie nie powiodło się. Nie można nawiązać połączenia proxy.","no-internet":"Błąd połączenia, brak połączenia sieciowego."},"disconnect-errors":{"remove-proxy":"Błąd rozłączenia, usunięcie reguł proxy nie powiodło się."},"download-notification":{title:"Wypróbuj nasz Klient Proxy na Pulpit",message:"Ochrona całego połączenia internetowego, nie tylko przeglądarki"},"update-notification":{title:"Rozszerzenie zaktualizowane",message:"Witamy w {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Ustawienie kontrolowane przez inne rozszerzenie.","not-controllable":"Ustawienie, którego nie można kontrolować za pomocą ustawień przeglądarki.","remove-webrtc":"Nie można wyczyścić ustawień WebRTC."}},Ei=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"})),Pi={"connect-status":{off:"Вы не подключены",on:"Вы подключены к {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Не удалось подключиться. Отключите другие расширения.","not-controllable":"Соединение не удалось, прокси-сервер браузера не контролируется.","no-location":"Ошибка подключения, отсутствует место подключения.","server-config":"Ошибка подключения. Невозможно получить конфигурацию сервера.",captive:"Не удалось установить соединение. Невозможно установить прокси-соединение.","no-internet":"Ошибка подключения. Нет подключения к сети."},"disconnect-errors":{"remove-proxy":"Ошибка отключения. Не удалось удалить правила прокси."},"download-notification":{title:"Попробуйте наш Desktop Proxy Client",message:"Защитите все свое интернет-соединение, а не только браузер"},"update-notification":{title:"Расширение обновлено",message:"Добро пожаловать в {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Настройка контролируется другим расширением.","not-controllable":"Настройка не контролируема через настройки вашего браузера.","remove-webrtc":"Не удалось очистить настройки WebRTC."}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:Pi},Symbol.toStringTag,{value:"Module"})),Ti={"connect-status":{off:"Ви не підключені",on:"Ви підключені до {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Помилка підключення. Вимкніть інші розширення.","not-controllable":"Помилка підключення, проксі-сервер веб-переглядача неможливо контролювати.","no-location":"Помилка підключення, відсутнє місце підключення.","server-config":"Помилка підключення, не вдається отримати конфігурацію сервера.",captive:"Помилка з’єднання, неможливо встановити проксі-з’єднання.","no-internet":"Помилка підключення. Відсутнє інтернет з'єднання."},"disconnect-errors":{"remove-proxy":"Помилка відключення, не вдалося видалити правила проксі."},"download-notification":{title:"Спробуйте наш Desktop Proxy Client",message:"Повністю захистіть підключення до Інтернету, а не лише через браузер"},"update-notification":{title:"Розширення оновлено",message:"Ласкаво просимо до {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Налаштування контролюється іншим розширенням.","not-controllable":"Налаштування не контрольоване через налаштування вашого браузера.","remove-webrtc":"Не вдається очистити налаштування WebRTC."}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:Ti},Symbol.toStringTag,{value:"Module"})),Di={"connect-status":{off:"Bạn chưa được kết nối",on:"Bạn được kết nối với {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"Kết nối không thành công, vui lòng tắt các tiện ích mở rộng khác.","not-controllable":"Kết nối không thành công, proxy trình duyệt không thể kiểm soát được.","no-location":"Lỗi kết nối, Thiếu vị trí kết nối.","server-config":"Lỗi kết nối, Không thể tìm nạp cấu hình máy chủ.",captive:"Kết nối không thành công, Không thể thiết lập kết nối proxy.","no-internet":"Lỗi kết nối, Không có kết nối mạng."},"disconnect-errors":{"remove-proxy":"Lỗi ngắt kết nối, xóa quy tắc proxy không thành công."},"download-notification":{title:"Thử dùng Ứng dụng Máy tính để bàn Proxy của chúng tôi",message:"Bảo vệ toàn bộ kết nối internet của bạn, không chỉ trình duyệt"},"update-notification":{title:"Đã cập nhật tiện ích mở rộng",message:"Chào mừng bạn đến {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"Cài đặt được kiểm soát bởi tiện ích mở rộng khác.","not-controllable":"Cài đặt không thể kiểm soát được thông qua cài đặt trình duyệt của bạn.","remove-webrtc":"Không thể xóa cài đặt WebRTC."}},Ni=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"})),$i={"connect-status":{off:"您尚未连接",on:"您已连接到 {{tr_location}}"},"connect-errors":{"controlled-by-other-extensions":"连接失败，请禁用其他扩展。","not-controllable":"连接失败，浏览器代理不受控制。","no-location":"连接错误，缺少连接位置。","server-config":"连接错误，无法获取服务器配置。",captive:"连接失败，无法建立代理连接。","no-internet":"连接错误，无网络连接。"},"disconnect-errors":{"remove-proxy":"断开连接错误，代理规则删除失败。"},"download-notification":{title:"试试我们的桌面代理客户端",message:"保护您的整个互联网连接，而不仅仅是浏览器"},"update-notification":{title:"扩展已更新",message:"欢迎来到 {{tr_version}}"},"webrtc-errors":{"controlled-by-other-extensions":"由其他分机控制的设置。","not-controllable":"无法通过浏览器设置控制设置。","remove-webrtc":"无法清除 WebRTC 设置。"}},ji=Object.freeze(Object.defineProperty({__proto__:null,default:$i},Symbol.toStringTag,{value:"Module"}));class ot extends oe{constructor(e){super(),this.i18nStorage=e}translator=T;get activeLocale(){return this.i18nStorage.state.locale??Ze}get languageList(){return[...li.entries()].map(([e,t])=>({code:e,label:t}))}async boot(){if(await this.i18nStorage.sync(),!this.i18nStorage.state.locale){const t=ot.getUILanguage();await this.setLocale(t)}const e=ot.buildResources();await this.translator.init({resources:e,lng:this.activeLocale,fallbackLng:Ze,interpolation:{escapeValue:!1}}),this.bootResolve(),await this.bootPromise}t(e,t={}){return this.translator.t(e,t)}async setLocale(e){await this.i18nStorage.setItems({locale:e})}static getUILanguage(){const e=z.i18n.getUILanguage(),t=e.replaceAll("-","_");if(sn(t))return t;const n=e.substring(0,2);return sn(n)?n:Ze}static buildResources(){return Object.entries(Object.assign({"./locales/ar/base.json":pi,"./locales/da/base.json":gi,"./locales/de/base.json":bi,"./locales/en/base.json":vi,"./locales/es/base.json":xi,"./locales/fr/base.json":Ci,"./locales/it/base.json":Ii,"./locales/nl/base.json":_i,"./locales/pl/base.json":Ei,"./locales/ru/base.json":Li,"./locales/uk/base.json":Ai,"./locales/vi/base.json":Ni,"./locales/zh_CN/base.json":ji})).reduce((t,[n,i])=>{const s=n.split("/").at(-2),o=n.split("/").at(-1).split(".").at(0);return t[s]={...t[s],[o]:i.default},t},{})}}const Ui=new pe("i18n",di,ee),Mi=new ot(Ui),on="chrome",Fi="app",zi="chrome_extension",gt={pricing:"https://veepn.com/{lang_code}/vpn-pricing/extension/",pricingPayment:"https://order.veepn.com/{lang_code}/pricing/extension/payment/",pricingSecurity:"https://order.veepn.com/{lang_code}/pricing/security/",pricingDiscount:"https://order.veepn.com/{lang_code}/pricing/60off/",home:"https://veepn.com/{lang_code}/",install:`https://veepn.com/{lang_code}/welcome/${on}/`,uninstall:`https://veepn.com/{lang_code}/uninstall/${on}/1/`,ipDetails:"https://veepn.com/{lang_code}/what-is-my-ip/",privacyPolicy:"https://veepn.com/{lang_code}/privacy-policy/",termsOfService:"https://veepn.com/{lang_code}/terms-of-service/",update:"https://veepn.com/{lang_code}/upgrade/",breachAlert:"https://veepn.com/{lang_code}/alert/",support:"https://help.veepn.com/hc/en-us/requests/new?&tf_14507823685010=extensions",supportTroubleshooting:"https://help.veepn.com/hc/en-us/categories/19479919000338-Troubleshooting",accountAuth:"https://account.veepn.com/{lang_code}/account-auth/",accountPasswordRecovery:"https://account.veepn.com/{lang_code}/password-recovery/"},Vi=["de","ar","th","vi","en","es","fr","id","hi","it","jp","nl","no","pl","pt","ru","se","tr","zh","uk"],Bi="en";class Hi extends oe{constructor(e,t){super(),this.globalStateService=e,this.i18nService=t}get websiteLangCode(){const e=this.i18nService.activeLocale.split("_")[0];return Vi.find(n=>n===e)??Bi}async boot(){this.bootResolve(),await this.bootPromise}async proceedToWebsiteAccount(e){const t=this.constructUrl(gt.accountAuth+e.authToken,e.route,e.params);await z.tabs.create({url:t})}async proceedToWebsitePage(e){const t=this.constructUrl(gt[e.page],"",e.params);await z.tabs.create({url:t})}async setUninstallURL(){const e=this.constructUrl(gt.uninstall,"");await z.runtime.setUninstallURL(e)}constructUrl(e,t,n){const i=new URLSearchParams({utm_source:zi,utm_medium:Fi,platform:"extension",udid:this.globalStateService.udid.value,...n??{}}),s=this.websiteLangCode===Ze?e.replace("/{lang_code}",""):e.replace("{lang_code}",this.websiteLangCode);if(t)return`${s}/?route=${encodeURIComponent(`${t}?${i.toString()}`)}`;const o=new URL(s);return i.forEach((c,l)=>{o.searchParams.set(l,c)}),o.toString()}}const yo=new Hi(Nt,Mi),An="default",Wi=[An,"light","dark"],Dn=336*60*60*1e3,Ki=384*60*60*1e3,qi="app",Gi="chrome_extension",Yi={macos:"https://download.veepn.com/mac/VeePN.dmg",windows:"https://download.veepn.com/windows/VeePNInstaller.exe",linux:"https://veepn.com/vpn-apps/vpn-for-linux/",other:`https://order.veepn.com/pricing/extension/?utm_source=${Gi}&utm_medium=${qi}&utm_campaign=download`},Ji=10080*60*1e3,Xi=1200*1e3,Zi=10080*60*1e3,Qi=4,es="https://chromewebstore.google.com/detail/free-vpn-for-chrome-vpn-p/_runtime_id_/reviews",ts=900*1e3,ns=1440*60*1e3,is=1440*60*1e3,ss=P({needShow:M(),nextTimestamp:U(),showCount:U()}),os=P({needShow:M()}),rs=P({needShow:M(),count:U(),nextTimestamp:U()}),as=P({close:rs,active:M(),nextTimestamp:U()}),cs=P({active:M()}),ls=P({active:M()}),us=P({active:M()}),ds=P({active:M(),nextTimestamp:U()}),hs=P({active:M(),nextTimestamp:U()}),ps=P({colorTheme:de(Wi).describe(E.persist),showOnboarding:M().describe(E.persist),sessionCount:U().describe(E.persist),downloadNotificationTimestamp:U().describe(E.persist),blockAds:M().describe(E.persist),rateUs:ss.describe(E.persist),exitOffer:os.describe(E.persist),connectionSurvey:as.describe(E.persist),banner2Session:cs.describe(E.persist),banner3Connection:ls.describe(E.persist),banner15Connection:us.describe(E.persist),banner14Days:ds.describe(E.persist),banner16Days:hs.describe(E.persist)}).default({colorTheme:An,showOnboarding:!0,sessionCount:0,downloadNotificationTimestamp:0,blockAds:!1,rateUs:{needShow:!0,nextTimestamp:Date.now()+Xi,showCount:1},exitOffer:{needShow:!0},connectionSurvey:{close:{needShow:!0,count:0,nextTimestamp:Date.now()},active:!0,nextTimestamp:Date.now()},banner2Session:{active:!0},banner3Connection:{active:!0},banner15Connection:{active:!0},banner14Days:{active:!1,nextTimestamp:Date.now()+Dn},banner16Days:{active:!0,nextTimestamp:Date.now()+Ki}}),fs=new he(ps);var gs="2.0.5",Pt=500,rn="user-agent",Ie="",an="?",rt="function",le="undefined",Oe="object",Lt="string",A="browser",ie="cpu",X="device",H="engine",F="os",Ce="result",b="name",p="type",m="vendor",y="version",D="architecture",We="major",g="model",Ue="console",O="mobile",R="tablet",L="smarttv",Y="wearable",Ge="xr",Me="embedded",ve="inapp",$t="brands",be="formFactors",jt="fullVersionList",ke="platform",Ut="platformVersion",dt="bitness",fe="sec-ch-ua",ms=fe+"-full-version-list",bs=fe+"-arch",ws=fe+"-"+dt,vs=fe+"-form-factors",ys=fe+"-"+O,xs=fe+"-"+g,Nn=fe+"-"+ke,Ss=Nn+"-version",$n=[$t,jt,O,g,ke,Ut,D,be,dt],Ye="Amazon",ye="Apple",cn="ASUS",ln="BlackBerry",me="Google",un="Huawei",mt="Lenovo",dn="Honor",Je="LG",bt="Microsoft",wt="Motorola",vt="Nvidia",hn="OnePlus",yt="OPPO",Te="Samsung",pn="Sharp",Ae="Sony",xt="Xiaomi",St="Zebra",fn="Chrome",gn="Chromium",ae="Chromecast",Qe="Edge",De="Firefox",Ne="Opera",Ct="Facebook",mn="Sogou",xe="Mobile ",$e=" Browser",Tt="Windows",Cs=typeof window!==le,N=Cs&&window.navigator?window.navigator:void 0,ce=N&&N.userAgentData?N.userAgentData:void 0,ks=function(r,e){var t={},n=e;if(!at(e)){n={};for(var i in e)for(var s in e[i])n[s]=e[i][s].concat(n[s]?n[s]:[])}for(var o in r)t[o]=n[o]&&n[o].length%2===0?n[o].concat(r[o]):r[o];return t},ht=function(r){for(var e={},t=0;t<r.length;t++)e[r[t].toUpperCase()]=r[t];return e},At=function(r,e){if(typeof r===Oe&&r.length>0){for(var t in r)if(ue(e)==ue(r[t]))return!0;return!1}return Re(r)?ue(e)==ue(r):!1},at=function(r,e){for(var t in r)return/^(browser|cpu|device|engine|os)$/.test(t)||(e?at(r[t]):!1)},Re=function(r){return typeof r===Lt},kt=function(r){if(r){for(var e=[],t=_e(/\\?\"/g,r).split(","),n=0;n<t.length;n++)if(t[n].indexOf(";")>-1){var i=ct(t[n]).split(";v=");e[n]={brand:i[0],version:i[1]}}else e[n]=ct(t[n]);return e}},ue=function(r){return Re(r)?r.toLowerCase():r},It=function(r){return Re(r)?_e(/[^\d\.]/g,r).split(".")[0]:void 0},se=function(r){for(var e in r)if(r.hasOwnProperty(e)){var t=r[e];typeof t==Oe&&t.length==2?this[t[0]]=t[1]:this[t]=void 0}return this},_e=function(r,e){return Re(e)?e.replace(r,Ie):e},je=function(r){return _e(/\\?\"/g,r)},ct=function(r,e){if(Re(r))return r=_e(/^\s\s*/,r),typeof e===le?r:r.substring(0,Pt)},Ot=function(r,e){if(!(!r||!e))for(var t=0,n,i,s,o,c,l;t<e.length&&!c;){var u=e[t],v=e[t+1];for(n=i=0;n<u.length&&!c&&u[n];)if(c=u[n++].exec(r),c)for(s=0;s<v.length;s++)l=c[++i],o=v[s],typeof o===Oe&&o.length>0?o.length===2?typeof o[1]==rt?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:o.length>=3&&(typeof o[1]===rt&&!(o[1].exec&&o[1].test)?o.length>3?this[o[0]]=l?o[1].apply(this,o.slice(2)):void 0:this[o[0]]=l?o[1].call(this,l,o[2]):void 0:o.length==3?this[o[0]]=l?l.replace(o[1],o[2]):void 0:o.length==4?this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):void 0:o.length>4&&(this[o[0]]=l?o[3].apply(this,[l.replace(o[1],o[2])].concat(o.slice(4))):void 0)):this[o]=l||void 0;t+=2}},J=function(r,e){for(var t in e)if(typeof e[t]===Oe&&e[t].length>0){for(var n=0;n<e[t].length;n++)if(At(e[t][n],r))return t===an?void 0:t}else if(At(e[t],r))return t===an?void 0:t;return e.hasOwnProperty("*")?e["*"]:r},bn={ME:"4.90","NT 3.51":"3.51","NT 4.0":"4.0",2e3:["5.0","5.01"],XP:["5.1","5.2"],Vista:"6.0",7:"6.1",8:"6.2","8.1":"6.3",10:["6.4","10.0"],NT:""},wn={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Is={Chrome:"Google Chrome",Edge:"Microsoft Edge","Edge WebView2":"Microsoft Edge WebView2","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome","Huawei Browser":"HuaweiBrowser","MIUI Browser":"Miui Browser","Opera Mobi":"OperaMobile",Yandex:"YaBrowser"},vn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[b,xe+"Chrome"]],[/webview.+edge\/([\w\.]+)/i],[y,[b,Qe+" WebView"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,y],[/opios[\/ ]+([\w\.]+)/i],[y,[b,Ne+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[b,Ne+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[b,Ne]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[b,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[y,[b,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon|otter|dooble|(?:lg |qute)browser)\/([-\w\.]+)/i,/(heytap|ovi|115|surf)browser\/([\d\.]+)/i,/(ecosia|weibo)(?:__| \w+@)([\d\.]+)/i],[b,y],[/quark(?:pc)?\/([-\w\.]+)/i],[y,[b,"Quark"]],[/\bddg\/([\w\.]+)/i],[y,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[b,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[b,"Smart "+mt+$e]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure"+$e],y],[/\bfocus\/([\w\.]+)/i],[y,[b,De+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[b,Ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[b,Ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[b,"MIUI"+$e]],[/fxios\/([\w\.-]+)/i],[y,[b,xe+De]],[/\bqihoobrowser\/?([\w\.]*)/i],[y,[b,"360"]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],y],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+$e],y],[/samsungbrowser\/([\w\.]+)/i],[y,[b,Te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[y,[b,mn+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,mn+" Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[b,y],[/(lbbrowser|rekonq)/i],[b],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[y,b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,Ct],y,[p,ve]],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat|klarna)[\/ ]([-\w\.]+)/i],[b,y,[p,ve]],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[b,"GSA"],[p,ve]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[b,"TikTok"],[p,ve]],[/\[(linkedin)app\]/i],[b,[p,ve]],[/(zalo(?:app)?)[\/\sa-z]*([\w\.-]+)/i],[[b,/(.+)/,"Zalo"],y,[p,ve]],[/(chromium)[\/ ]([-\w\.]+)/i],[b,y],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[b,fn+" Headless"]],[/wv\).+chrome\/([\w\.]+).+edgw\//i],[y,[b,Qe+" WebView2"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,fn+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[b,"Android"+$e]],[/chrome\/([\w\.]+) mobile/i],[y,[b,xe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,y],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[y,[b,xe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[b,xe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[y,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[y,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[b,y],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[b,xe+De],y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],y],[/(wolvic|librewolf)\/([\w\.]+)/i],[b,y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[b,De+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[b,[y,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[y,/[^\d\.]+./,Ie]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[D,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[D,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[D,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[D,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[D,"arm"]],[/ sun4\w[;\)]/i],[[D,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i,/((ppc|powerpc)(64)?)( mac|;|\))/i,/(?:osf1|[freopnt]{3,4}bsd) (alpha)/i],[[D,/ower/,Ie,ue]],[/winnt.+\[axp/i],[[D,"alpha"]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[m,Te],[p,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr]|browser)[-\w]+)/i,/sec-(sgh\w+)/i],[g,[m,Te],[p,O]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[m,ye],[p,O]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[m,ye],[p,R]],[/(macintosh);/i],[g,[m,ye]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[m,pn],[p,O]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[m,dn],[p,R]],[/honor([-\w ]+)[;\)]/i],[g,[m,dn],[p,O]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[m,un],[p,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[m,un],[p,O]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[m,xt],[p,R]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[m,xt],[p,O]],[/droid.+; (cph2[3-6]\d[13579]|((gm|hd)19|(ac|be|in|kb)20|(d[en]|eb|le|mt)21|ne22)[0-2]\d|p[g-k]\w[1m]10)\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[m,hn],[p,O]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[m,yt],[p,O]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[m,J,{OnePlus:["203","304","403","404","413","415"],"*":yt}],[p,R]],[/(vivo (5r?|6|8l?|go|one|s|x[il]?[2-4]?)[\w\+ ]*)(?: bui|\))/i],[g,[m,"BLU"],[p,O]],[/; vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[m,"Vivo"],[p,O]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[m,"Realme"],[p,O]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[m,mt],[p,R]],[/lenovo[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i],[g,[m,mt],[p,O]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ]([\w\s]+)(\)| bui)/i,/((?:moto(?! 360)[-\w\(\) ]+|xt\d{3,4}[cgkosw\+]?[-\d]*|nexus 6)(?= bui|\)))/i],[g,[m,wt],[p,O]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[m,wt],[p,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[m,Je],[p,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+(?!.*(?:browser|netcast|android tv|watch|webos))(\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[m,Je],[p,O]],[/(nokia) (t[12][01])/i],[m,g,[p,R]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[p,O],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[m,me],[p,R]],[/droid.+;(?: google)? (g(01[13]a|020[aem]|025[jn]|1b60|1f8f|2ybb|4s1m|576d|5nz6|8hhn|8vou|a02099|c15s|d1yq|e2ae|ec77|gh2x|kv4x|p4bc|pj41|r83y|tt9q|ur25|wvk6)|pixel[\d ]*a?( pro)?( xl)?( fold)?( \(5g\))?)( bui|\))/i],[g,[m,me],[p,O]],[/(google) (pixelbook( go)?)/i],[m,g],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-\w\w\d\d)(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[m,Ae],[p,O]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[m,Ae],[p,R]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[m,Ye],[p,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[m,Ye],[p,O]],[/(playbook);[-\w\),; ]+(rim)/i],[g,m,[p,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[m,ln],[p,O]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[m,cn],[p,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[m,cn],[p,O]],[/(nexus 9)/i],[g,[m,"HTC"],[p,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[g,/_/g," "],[p,O]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[g,[m,"TCL"],[p,R]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[g,[m,"TCL"],[p,O]],[/(itel) ((\w+))/i],[[m,ue],g,[p,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[m,"Acer"],[p,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[m,"Meizu"],[p,O]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[m,"Ulefone"],[p,O]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[m,"Energizer"],[p,O]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[m,"Cat"],[p,O]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[m,"Smartfren"],[p,O]],[/droid.+; (a(in)?(0(15|59|6[35])|142)p?)/i],[g,[m,"Nothing"],[p,O]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[m,"Archos"],[p,R]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[m,"Archos"],[p,O]],[/; (n159v)/i],[g,[m,"HMD"],[p,O]],[/(imo) (tab \w+)/i,/(infinix|tecno) (x1101b?|p904|dp(7c|8d|10a)( pro)?|p70[1-3]a?|p904|t1101)/i],[m,g,[p,R]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (blu|hmd|imo|infinix|lava|oneplus|tcl)[_ ]([\w\+ ]+?)(?: bui|\)|; r)/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(oppo) ?([\w ]+) bui/i,/droid[^;]+; (philips)[_ ]([sv-x][\d]{3,4}[xz]?)/i],[m,g,[p,O]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[m,g,[p,R]],[/(surface duo)/i],[g,[m,bt],[p,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[m,"Fairphone"],[p,O]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[m,vt],[p,R]],[/(sprint) (\w+)/i],[m,g,[p,O]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[m,bt],[p,O]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[m,St],[p,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[m,St],[p,O]],[/(philips)[\w ]+tv/i,/smart-tv.+(samsung)/i],[m,[p,L]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[m,Te],[p,L]],[/(vizio)(?: |.+model\/)(\w+-\w+)/i,/tcast.+(lg)e?. ([-\w]+)/i],[m,g,[p,L]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,Je],[p,L]],[/(apple) ?tv/i],[m,[g,ye+" TV"],[p,L]],[/crkey.*devicetype\/chromecast/i],[[g,ae+" Third Generation"],[m,me],[p,L]],[/crkey.*devicetype\/([^/]*)/i],[[g,/^/,"Chromecast "],[m,me],[p,L]],[/fuchsia.*crkey/i],[[g,ae+" Nest Hub"],[m,me],[p,L]],[/crkey/i],[[g,ae],[m,me],[p,L]],[/(portaltv)/i],[g,[m,Ct],[p,L]],[/droid.+aft(\w+)( bui|\))/i],[g,[m,Ye],[p,L]],[/(shield \w+ tv)/i],[g,[m,vt],[p,L]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[m,pn],[p,L]],[/(bravia[\w ]+)( bui|\))/i],[g,[m,Ae],[p,L]],[/(mi(tv|box)-?\w+) bui/i],[g,[m,xt],[p,L]],[/Hbbtv.*(technisat) (.*);/i],[m,g,[p,L]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,/.+\/(\w+)/,"$1",J,{LG:"lge"}],[g,ct],[p,L]],[/(playstation \w+)/i],[g,[m,Ae],[p,Ue]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[m,bt],[p,Ue]],[/(ouya)/i,/(nintendo) (\w+)/i,/(retroid) (pocket ([^\)]+))/i],[m,g,[p,Ue]],[/droid.+; (shield)( bui|\))/i],[g,[m,vt],[p,Ue]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[m,Te],[p,Y]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,g,[p,Y]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[m,yt],[p,Y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[m,ye],[p,Y]],[/(opwwe\d{3})/i],[g,[m,hn],[p,Y]],[/(moto 360)/i],[g,[m,wt],[p,Y]],[/(smartwatch 3)/i],[g,[m,Ae],[p,Y]],[/(g watch r)/i],[g,[m,Je],[p,Y]],[/droid.+; (wt63?0{2,3})\)/i],[g,[m,St],[p,Y]],[/droid.+; (glass) \d/i],[g,[m,me],[p,Ge]],[/(pico) ([\w ]+) os\d/i],[m,g,[p,Ge]],[/(quest( \d| pro)?s?).+vr/i],[g,[m,Ct],[p,Ge]],[/mobile vr; rv.+firefox/i],[[p,Ge]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[p,Me]],[/(aeobc)\b/i],[g,[m,Ye],[p,Me]],[/(homepod).+mac os/i],[g,[m,ye],[p,Me]],[/windows iot/i],[[p,Me]],[/droid.+; ([\w- ]+) (4k|android|smart|google)[- ]?tv/i],[g,[p,L]],[/\b((4k|android|smart|opera)[- ]?tv|tv; rv:|large screen[\w ]+safari)\b/i],[[p,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[g,[p,J,{mobile:"Mobile",xr:"VR","*":R}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,O]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[b,Qe+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[b,y],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,y],[/ladybird\//i],[[b,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,b]],os:[[/(windows nt) (6\.[23]); arm/i],[[b,/N/,"R"],[y,J,bn]],[/(windows (?:phone|mobile|iot))(?: os)?[\/ ]?([\d\.]*( se)?)/i,/(windows)[\/ ](1[01]|2000|3\.1|7|8(\.1)?|9[58]|me|server 20\d\d( r2)?|vista|xp)/i],[b,y],[/windows nt ?([\d\.\)]*)(?!.+xbox)/i,/\bwin(?=3| ?9|n)(?:nt| 9x )?([\d\.;]*)/i],[[y,/(;|\))/g,"",J,bn],[b,Tt]],[/(windows ce)\/?([\d\.]*)/i],[b,y],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+(haiku|morphos))/i],[[b,"macOS"],[y,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[y,[b,ae+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[y,[b,ae+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[y,[b,ae+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[y,[b,ae+" Linux"]],[/crkey\/([\d\.]+)/i],[y,[b,ae]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[y,b],[/(ubuntu) ([\w\.]+) like android/i],[[b,/(.+)/,"$1 Touch"],y],[/(harmonyos)[\/ ]?([\d\.]*)/i,/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen)\w*[-\/\.; ]?([\d\.]*)/i],[b,y],[/\(bb(10);/i],[y,[b,ln]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[y,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[b,De+" OS"]],[/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i,/webos(?:[ \/]?|\.tv-20(?=2[2-9]))(\d[\d\.]*)/i],[y,[b,"webOS"]],[/web0s;.+?(?:chr[o0]me|safari)\/(\d+)/i],[[y,J,{25:"120",24:"108",23:"94",22:"87",6:"79",5:"68",4:"53",3:"38",2:"538",1:"537","*":"TV"}],[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[b,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,"Chrome OS"],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/linux.+(mint)[\/\(\) ]?([\w\.]*)/i,/(mageia|vectorlinux|fuchsia|arcaos|arch(?= ?linux))[;l ]([\d\.]*)/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire|knoppix)(?: gnu[\/ ]linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/\b(aix)[; ]([1-9\.]{0,4})/i,/(hurd|linux|morphos)(?: (?:arm|x86|ppc)\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) ?(r\d)?/i],[b,y],[/(sunos) ?([\d\.]*)/i],[[b,"Solaris"],y],[/\b(beos|os\/2|amigaos|openvms|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,y]]},Xe=(function(){var r={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return se.call(r.init,[[A,[b,y,We,p]],[ie,[D]],[X,[p,g,m]],[H,[b,y]],[F,[b,y]]]),se.call(r.isIgnore,[[A,[y,We]],[H,[y]],[F,[y]]]),se.call(r.isIgnoreRgx,[[A,/ ?browser$/i],[F,/ ?os$/i]]),se.call(r.toString,[[A,[b,y]],[ie,[D]],[X,[m,g]],[H,[b,y]],[F,[b,y]]]),r})(),Os=function(r,e){var t=Xe.init[e],n=Xe.isIgnore[e]||0,i=Xe.isIgnoreRgx[e]||0,s=Xe.toString[e]||0;function o(){se.call(this,t)}return o.prototype.getItem=function(){return r},o.prototype.withClientHints=function(){return ce?ce.getHighEntropyValues($n).then(function(c){return r.setCH(new jn(c,!1)).parseCH().get()}):r.parseCH().get()},o.prototype.withFeatureCheck=function(){return r.detectFeature().get()},e!=Ce&&(o.prototype.is=function(c){var l=!1;for(var u in this)if(this.hasOwnProperty(u)&&!At(n,u)&&ue(i?_e(i,this[u]):this[u])==ue(i?_e(i,c):c)){if(l=!0,c!=le)break}else if(c==le&&l){l=!l;break}return l},o.prototype.toString=function(){var c=Ie;for(var l in s)typeof this[s[l]]!==le&&(c+=(c?" ":Ie)+this[s[l]]);return c||le}),ce||(o.prototype.then=function(c){var l=this,u=function(){for(var w in l)l.hasOwnProperty(w)&&(this[w]=l[w])};u.prototype={is:o.prototype.is,toString:o.prototype.toString};var v=new u;return c(v),v}),new o};function jn(r,e){if(r=r||{},se.call(this,$n),e)se.call(this,[[$t,kt(r[fe])],[jt,kt(r[ms])],[O,/\?1/.test(r[ys])],[g,je(r[xs])],[ke,je(r[Nn])],[Ut,je(r[Ss])],[D,je(r[bs])],[be,kt(r[vs])],[dt,je(r[ws])]]);else for(var t in r)this.hasOwnProperty(t)&&typeof r[t]!==le&&(this[t]=r[t])}function yn(r,e,t,n){return this.get=function(i){return i?this.data.hasOwnProperty(i)?this.data[i]:void 0:this.data},this.set=function(i,s){return this.data[i]=s,this},this.setCH=function(i){return this.uaCH=i,this},this.detectFeature=function(){if(N&&N.userAgent==this.ua)switch(this.itemType){case A:N.brave&&typeof N.brave.isBrave==rt&&this.set(b,"Brave");break;case X:!this.get(p)&&ce&&ce[O]&&this.set(p,O),this.get(g)=="Macintosh"&&N&&typeof N.standalone!==le&&N.maxTouchPoints&&N.maxTouchPoints>2&&this.set(g,"iPad").set(p,R);break;case F:!this.get(b)&&ce&&ce[ke]&&this.set(b,ce[ke]);break;case Ce:var i=this.data,s=function(o){return i[o].getItem().detectFeature().get()};this.set(A,s(A)).set(ie,s(ie)).set(X,s(X)).set(H,s(H)).set(F,s(F))}return this},this.parseUA=function(){return this.itemType!=Ce&&Ot.call(this.data,this.ua,this.rgxMap),this.itemType==A&&this.set(We,It(this.get(y))),this},this.parseCH=function(){var i=this.uaCH,s=this.rgxMap;switch(this.itemType){case A:case H:var o=i[jt]||i[$t],c;if(o)for(var l=0;l<o.length;l++){var u=o[l].brand||o[l],v=o[l].version;this.itemType==A&&!/not.a.brand/i.test(u)&&(!c||/Chrom/.test(c)&&u!=gn||c==Qe&&/WebView2/.test(u))&&(u=J(u,Is),c=this.get(b),c&&!/Chrom/.test(c)&&/Chrom/.test(u)||this.set(b,u).set(y,v).set(We,It(v)),c=u),this.itemType==H&&u==gn&&this.set(y,v)}break;case ie:var w=i[D];w&&(w&&i[dt]=="64"&&(w+="64"),Ot.call(this.data,w+";",s));break;case X:if(i[O]&&this.set(p,O),i[g]&&(this.set(g,i[g]),!this.get(p)||!this.get(m))){var k={};Ot.call(k,"droid 9; "+i[g]+")",s),!this.get(p)&&k.type&&this.set(p,k.type),!this.get(m)&&k.vendor&&this.set(m,k.vendor)}if(i[be]){var S;if(typeof i[be]!="string")for(var a=0;!S&&a<i[be].length;)S=J(i[be][a++],wn);else S=J(i[be],wn);this.set(p,S)}break;case F:var d=i[ke];if(d){var f=i[Ut];d==Tt&&(f=parseInt(It(f),10)>=13?"11":"10"),this.set(b,d).set(y,f)}this.get(b)==Tt&&i[g]=="Xbox"&&this.set(b,"Xbox").set(y,void 0);break;case Ce:var h=this.data,x=function(C){return h[C].getItem().setCH(i).parseCH().get()};this.set(A,x(A)).set(ie,x(ie)).set(X,x(X)).set(H,x(H)).set(F,x(F))}return this},se.call(this,[["itemType",r],["ua",e],["uaCH",n],["rgxMap",t],["data",Os(this,r)]]),this}function Q(r,e,t){if(typeof r===Oe?(at(r,!0)?(typeof e===Oe&&(t=e),e=r):(t=r,e=void 0),r=void 0):typeof r===Lt&&!at(e,!0)&&(t=e,e=void 0),t)if(typeof t.append===rt){var n={};t.forEach(function(v,w){n[String(w).toLowerCase()]=v}),t=n}else{var i={};for(var s in t)t.hasOwnProperty(s)&&(i[String(s).toLowerCase()]=t[s]);t=i}if(!(this instanceof Q))return new Q(r,e,t).getResult();var o=typeof r===Lt?r:t&&t[rn]?t[rn]:N&&N.userAgent?N.userAgent:Ie,c=new jn(t,!0),l=e?ks(vn,e):vn,u=function(v){return v==Ce?function(){return new yn(v,o,l,c).set("ua",o).set(A,this.getBrowser()).set(ie,this.getCPU()).set(X,this.getDevice()).set(H,this.getEngine()).set(F,this.getOS()).get()}:function(){return new yn(v,o,l[v],c).parseUA().get()}};return se.call(this,[["getBrowser",u(A)],["getCPU",u(ie)],["getDevice",u(X)],["getEngine",u(H)],["getOS",u(F)],["getResult",u(Ce)],["getUA",function(){return o}],["setUA",function(v){return Re(v)&&(o=v.length>Pt?ct(v,Pt):v),this}]]).setUA(o),this}Q.VERSION=gs;Q.BROWSER=ht([b,y,We,p]);Q.CPU=ht([D]);Q.DEVICE=ht([g,m,p,Ue,O,L,R,Y,Me]);Q.ENGINE=Q.OS=ht([b,y]);const _s=Q(navigator.userAgent);class Rs extends oe{constructor(e){super(),this.appStorage=e}get colorTheme(){return this.appStorage.state.colorTheme}get version(){return z.runtime.getManifest().version}get showOnboarding(){return this.appStorage.state.showOnboarding}get sessionCount(){return this.appStorage.state.sessionCount}get downloadNotificationTimestamp(){return this.appStorage.state.downloadNotificationTimestamp}get isBlockAds(){return this.appStorage.state.blockAds}get majorBrowserVersion(){const e=Number(_s.browser.major);return Number.isNaN(e)?0:e}get rateUsData(){return this.appStorage.state.rateUs}get extensionStoreUrl(){const e=z.runtime.id;return es.replace("_runtime_id_",e)}get needShowConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state,t=Date.now()>e.nextTimestamp;return e.active&&t}get connectionSurveyClose(){return this.appStorage.state.connectionSurvey.close}async boot(){await this.appStorage.sync(),this.bootResolve(),await this.bootPromise}async setColorTheme(e){await this.appStorage.setItems({colorTheme:e})}async setShowOnboarding(e){await this.appStorage.setItems({showOnboarding:e})}async incrementSessionCount(){const e=this.appStorage.state.sessionCount+1;await this.appStorage.setItems({sessionCount:e})}async getDownloadLink(e){return await Promise.resolve(this),Yi[e]}async incrementDownloadNotificationTimestamp(){const e=Date.now()+Ji;await this.appStorage.setItems({downloadNotificationTimestamp:e})}async setBlockAds(e){await this.appStorage.setItems({blockAds:e})}async incrementRateUs(){const e={needShow:this.rateUsData.showCount<Qi,nextTimestamp:Date.now()+Zi,showCount:this.rateUsData.showCount+1};await this.appStorage.setItems({rateUs:e})}async setExitOfferShown(){await this.appStorage.setItems({exitOffer:{needShow:!1}})}async incrementConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+ts}})}async closeConnectionSurvey(){const{close:e}=this.appStorage.state.connectionSurvey,t=e.count+1,n=e.nextTimestamp<Date.now()&&t%2===0,i=n?Date.now()+is:e.nextTimestamp,s={needShow:n,count:t,nextTimestamp:i};await this.appStorage.setItems({connectionSurvey:{...this.appStorage.state.connectionSurvey,close:s}})}async delayConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,nextTimestamp:Date.now()+ns}})}async disableConnectionSurvey(){const{connectionSurvey:e}=this.appStorage.state;await this.appStorage.setItems({connectionSurvey:{...e,active:!1}})}get banner2Session(){const{banner2Session:e}=this.appStorage.state;return e}async disableBanner2Session(){await this.appStorage.setItems({banner2Session:{active:!1}})}get banner3Connection(){const{banner3Connection:e}=this.appStorage.state;return e}async disableBanner3Connection(){await this.appStorage.setItems({banner3Connection:{active:!1}})}get banner15Connection(){const{banner15Connection:e}=this.appStorage.state;return e}async disableBanner15Connection(){await this.appStorage.setItems({banner15Connection:{active:!1}})}get banner14Days(){const{banner14Days:e}=this.appStorage.state;return e}async activateBanner14Days(){await this.appStorage.setItems({banner14Days:{...this.banner14Days,active:!0}})}async disableBanner14Days(){await this.appStorage.setItems({banner14Days:{nextTimestamp:Date.now()+Dn,active:!1}})}get banner16Days(){const{banner16Days:e}=this.appStorage.state;return e}async disableBanner16Days(){await this.appStorage.setItems({banner16Days:{...this.banner16Days,active:!1}})}}const Es=new pe("app",fs,ee),xo=new Rs(Es),Ps=["allowed","denied"],Ls="allowed",Ts="/icons/128.png",As=["download-app","extension-updated"],Ds=P({id:$().uuid(),callback:de(As).optional()}),Ns=P({permition:de(Ps).optional().describe(E.persist),callbacks:Ve(Ds).optional().describe(E.session)}).default({}),$s=new he(Ns);class js extends oe{constructor(e){super(),this.notificationStorage=e}get permition(){return this.notificationStorage.state.permition??Ls}get callbacks(){return this.notificationStorage.state.callbacks??[]}async boot(){await this.notificationStorage.sync(),this.bootResolve(),await this.bootPromise}async setNotificationPermition(e){await this.notificationStorage.setItems({permition:e})}getCallbackSettings(e){return this.callbacks.find(n=>n.id===e)??null}async removeCallbackSettings(e){const n=((await this.notificationStorage.getItems("callbacks")).callbacks??[]).filter(i=>i.id!==e);await this.notificationStorage.setItems({callbacks:n})}async notify(e){if(this.notificationStorage.state.permition==="denied")return;const t=z.runtime.getManifest(),n=z.runtime.getURL(Ts),i={type:"basic",title:t.name,message:t.description??"",iconUrl:n},s=await z.notifications.create(crypto.randomUUID(),{...i,...e.options}),o=[...this.callbacks,{id:s,...e.callback?{callback:e.callback}:{}}];await this.notificationStorage.setItems({callbacks:o})}}const Us=new pe("notification",$s,ee),So=new js(Us),Dt=["free","premium"],Ms=["available","unavailable"],Fs=P({accessToken:$(),refreshToken:$()}),xn=P({type:de(Dt),url:$(),status:de(Ms),updatedAt:U()}),zs=P({tokens:Fs.optional().describe(E.persist),[Dt[0]]:xn.optional().describe(E.persist),[Dt[1]]:xn.optional().describe(E.persist)}).default({}),Vs=new he(zs),lt={authRefreshToken:"/auth/refresh-token/",authLogin:"/auth/login/",authLogout:"/auth/logout/",apiLaunch:"/api/launch/",apiLocationList:"/api/location/list/",apiServerList:"/api/server/list/",apiAvailable:"/api/available/",apiAccountAuthToken:"/api/account/account-auth-token/",apiUrlReview:"/api/url/review/",apiSubscriptionCheckUsedTrial:"/api/v2/subscription/check-used-trial/",apiSubscriptionSlot:"/api/v2/subscription/slot/",apiSlotRelease:"/api/v2/slot/release/",apiSubscriptionShield:"/api/v2/subscription/shield/",apiRemoteConfig:"/api/config/popup/"},Bs="https://antpeak.com",Hs="https://zorvian.com",Sn="https://s3-oregon-1.s3-us-west-2.amazonaws.com/api.json",Cn="https://proigor.com/payload.json",Ws=3600*1e3,Ks=P({free:$(),premium:$(),domains:P({free:Ve($()).nonempty(),premium:Ve($()).nonempty()})}),kn=Q(navigator.userAgent);class pt extends oe{constructor(e,t,n,i,s,o){super(),this.apiStorage=n,this.globalStateService=i,this.fetchService=s,this.analyticsService=o,this.domainType=e,this.domainUrl=t}domainType;domainUrl;get hasTokens(){return!!this.apiStorage.state.tokens}get deviceInfo(){const e="chrome",t=z.runtime.getManifest(),n=kn.browser.name??"Chrome",i=kn.browser.version??"0.0.0";return{udid:this.globalStateService.udid.value,appVersion:t.version,platform:e,platformVersion:navigator.userAgent,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,deviceName:`${n} ${i}`}}get isDomainAvailable(){const e=this.apiStorage.state[this.domainType];if(!e)return!1;const t=e.updatedAt+Ws;return!!e.url&&e.status==="available"&&t>Date.now()}get apiDomainUrl(){return this.apiStorage.state[this.domainType]?.url||this.domainUrl}async boot(){await this.apiStorage.sync(),this.isDomainAvailable||await this.updateDomainData(),this.bootResolve(),await this.bootPromise}async setTokens(e){await this.apiStorage.setItems({tokens:e})}async removeTokens(){await this.apiStorage.removeItems("tokens")}async updateDomainData(){const e=this.apiStorage.state[this.domainType]?.url;if(e&&await this.apiGetDomainStatus(e)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:e,status:"available",updatedAt:Date.now()}});return}if(await this.apiGetDomainStatus(this.domainUrl)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:this.domainUrl,status:"available",updatedAt:Date.now()}});return}const n=await this.apiGetReserveDomains();if(n.success){const i=pt.shuffleArray(n.data.domains[this.domainType]);for(const s of i)if(await this.apiGetDomainStatus(s,!0)){await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:s,status:"available",updatedAt:Date.now()}});return}}await this.apiStorage.setItems({[this.domainType]:{type:this.domainType,url:"",status:"unavailable",updatedAt:0}})}async fetch(e){if(!this.isDomainAvailable)return{success:!1,errors:[{code:0,status:0,name:"",message:"Connection Error. Api domain is unavailable. Try to reset app."}]};const t=this.apiStorage.state[this.domainType]?.url+lt[e.url];return await this.request({...e,url:t})}async apiGetReserveDomains(){const n=zn(Intl.DateTimeFormat().resolvedOptions().timeZone)?.countries.some(i=>i.toLocaleLowerCase()==="ru")?[Cn,Sn]:[Sn,Cn];for(const i of n){let s=await this.fetchService.request({method:"GET",url:i});if(s.success){if(Ks.safeParse(s.data).success)return s;s={success:!1,errors:[{code:0,status:0,name:"",message:"Invalid response from bucket"}]}}this.analyticsService.sendEvent({types:["google-analytics"],name:"api_no_response_bucket",data:{api_domain:i,status_code:tt.getStatusCodeMessage(s)}})}return{success:!1,errors:[{code:0,status:0,name:"",message:"Connection Error. Api domain is unavailable. Try to reset app."}]}}async apiGetDomainStatus(e,t=!1){const n=await this.fetchService.request({method:"GET",url:`${e}${lt.apiAvailable}`});return n.success||this.analyticsService.sendEvent({types:["google-analytics"],name:t?"api_no_response_reserve":"api_no_response_default",data:{api_domain:e,status_code:tt.getStatusCodeMessage(n)}}),n.success?n.data.message==="OK":!1}static shuffleArray(e){const t=[...e];for(let n=t.length-1;n>=0;n--){const i=Math.floor(Math.random()*(n+1));[t[n],t[i]]=[t[i],t[n]]}return t}}class qs extends pt{constructor(e,t,n,i,s,o,c){super(e,t,n,i,s,c),this.apiStorage=n,this.globalStateService=i,this.fetchService=s,this.eventService=o,this.analyticsService=c}async request(e){const t=this.apiStorage.state.tokens?.accessToken??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(c=>c.status!==401))return n;const s=this.apiStorage.state.tokens?.accessToken??"",o=await this.fetchService.request({headers:{Authorization:`Bearer ${s}`},method:"POST",url:this.apiDomainUrl+lt.apiLaunch,body:this.deviceInfo});return o.success?(await this.setTokens({accessToken:o.data.accessToken,refreshToken:""}),this.request(e)):(this.eventService.dispatch({"free-refresh-token-failed":{disconnectReason:s?this.apiDomainUrl:"token_empty",failedReason:tt.getStatusCodeMessage(o)}}),n)}}class Gs extends pt{constructor(e,t,n,i,s,o,c){super(e,t,n,i,s,c),this.apiStorage=n,this.globalStateService=i,this.fetchService=s,this.eventService=o,this.analyticsService=c}async request(e){const t=this.apiStorage.state.tokens?.accessToken??"",n=await this.fetchService.request({...e,headers:{Authorization:`Bearer ${t}`,...e.headers}});if(n.success||n.errors.every(c=>c.status!==401))return n;const s=this.apiStorage.state.tokens?.refreshToken??"",o=await this.fetchService.request({headers:{Authorization:`Bearer ${s}`},method:"POST",url:this.apiDomainUrl+lt.authRefreshToken,body:this.deviceInfo});return o.success?(await this.setTokens({accessToken:o.data.accessToken,refreshToken:o.data.refreshToken}),this.request(e)):(this.eventService.dispatch({"premium-refresh-token-failed":{disconnectReason:s?this.apiDomainUrl:"token_empty",failedReason:tt.getStatusCodeMessage(o)}}),n)}}const Un=new pe("api",Vs,ee),Co=new qs("free",Bs,Un,Nt,_n,ee,Rn),ko=new Gs("premium",Hs,Un,Nt,_n,ee,Rn),Ys=P({blockWebrtc:M().optional().describe(E.persist)}).default({}),Js=new he(Ys),_t="disable_non_proxied_udp";class ze extends oe{constructor(e){super(),this.webrtcStorage=e,this.setting.onChange.addListener(t=>{this.details=t,ze.settingChangeResolver()})}setting=z.privacy.network.webRTCIPHandlingPolicy;details={levelOfControl:"not_controllable",value:"default"};static settingChangeResolver=()=>{};get canControlWebrtc(){const{levelOfControl:e,value:t}=this.details;return e==="not_controllable"||e==="controlled_by_other_extensions"?{status:!1,cause:e}:e==="controllable_by_this_extension"&&t===_t?{status:!1,cause:"controlled_by_other_extensions"}:{status:!0}}get isApplied(){const{levelOfControl:e,value:t}=this.details;return e==="controlled_by_this_extension"&&t===_t}get needEnableWebrtc(){return!!this.webrtcStorage.state.blockWebrtc}async boot(){await this.webrtcStorage.sync(),this.details=await this.setting.get({}),this.bootResolve(),await this.bootPromise}async enable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const e=new Promise(t=>{ze.settingChangeResolver=t});return await this.setting.set({value:_t,scope:"regular"}),await e,this.canControlWebrtc}async disable(){if(!this.canControlWebrtc.status)return this.canControlWebrtc;const e=new Promise(t=>{ze.settingChangeResolver=t});return await this.setting.clear({}),await e,this.canControlWebrtc}async setBlockWebrtc(e){await this.webrtcStorage.setItems({blockWebrtc:e})}}const Xs=new pe("webrtc-settings",Js,ee),Io=new ze(Xs),Zs=["udp","tcp","ipsec","https","http","sws","wg"],Qs=P({addresses:Ve($()),protocol:de(Zs),port:U()}),eo=P({username:$(),password:$()}),to=P({credentials:eo.optional().describe(E.persist),serverConfigList:Ve(Qs).optional().describe(E.persist)}).default({}),no=new he(to);class Se extends oe{constructor(e){super(),this.proxyStorage=e,this.setting.onChange.addListener(t=>{this.details=t,Se.settingChangeResolver()})}setting=z.proxy.settings;details={levelOfControl:"not_controllable",value:{mode:"system"}};static settingChangeResolver=()=>{};get canControlProxy(){const{levelOfControl:e}=this.details;return e==="not_controllable"||e==="controlled_by_other_extensions"?{status:!1,cause:e}:{status:!0}}get isApplied(){const{levelOfControl:e}=this.details;return e==="controlled_by_this_extension"}async getAuthCredentials(){const{credentials:e}=await this.proxyStorage.getItems("credentials");return e??null}async getServerConfigList(){const{serverConfigList:e}=await this.proxyStorage.getItems("serverConfigList");return e??[]}async boot(){await this.proxyStorage.sync();const e=await this.setting.get({});this.details=e,this.bootResolve(),await this.bootPromise}async enable(e){if(this.isApplied)return this.canControlProxy;if(!this.canControlProxy.status)return this.canControlProxy;await this.proxyStorage.setItems({credentials:e.credentials,serverConfigList:e.serverConfig});const t=new Promise(i=>{Se.settingChangeResolver=i}),n=Se.createProxyConfig(e);return await this.setting.set({value:n,scope:"regular"}),await t,this.canControlProxy}async disable(){if(!this.isApplied)return!0;await this.proxyStorage.removeItems("credentials","serverConfigList");const e=new Promise(t=>{Se.settingChangeResolver=t});return await this.setting.clear({}),await e,!this.isApplied}static createProxyConfig(e){const t=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,n=e.serverConfig.flatMap(s=>{const o=s.protocol.toUpperCase();return s.addresses.map(c=>`${o} ${c}:${s.port}`)}).join("; ");return{mode:"pac_script",pacScript:{data:`
      function FindProxyForURL(url, host) {
        const areHostnamesEqual = (hostnameA, hostnameB) => {
          const wwwRegex = /^www\\./;
          const oldHostnameWithoutWww = hostnameA.replace(wwwRegex, '');
          const newHostnameWithoutWww = hostnameB.replace(wwwRegex, '');
          return oldHostnameWithoutWww === newHostnameWithoutWww;
        };

        if (isPlainHostName(host)) {
          return 'DIRECT';
        }

        const ipv4Regex = new RegExp(${t});
        const nonRoutableNets = ${JSON.stringify(e.nonRoutableNets)};
        if (ipv4Regex.test(host) && nonRoutableNets.some(([pattern, mask]) => isInNet(host, pattern, mask))) {
          return 'DIRECT';
        }

        const exclusions = ${JSON.stringify(e.exclusionList)};
        if (exclusions.some(el => (areHostnamesEqual(host, el) || shExpMatch(host, el)))) {
          return 'DIRECT';
        }

        return '${n}';
      }`}}}async getControlProxyStatus(){return Promise.resolve(this.canControlProxy)}}const io=new pe("proxy",no,ee),Oo=new Se(io),so=P({matchPattern:$(),favicon:$().optional()}),oo=P({exclusions:so.array().optional().describe(E.persist)}).default({}),ro=new he(oo);var et={exports:{}},ao=et.exports,In;function co(){return In||(In=1,(function(r){(function(e){const t="(0?\\d+|0x[a-f0-9]+)",n={fourOctet:new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`,"i"),threeOctet:new RegExp(`^${t}\\.${t}\\.${t}$`,"i"),twoOctet:new RegExp(`^${t}\\.${t}$`,"i"),longValue:new RegExp(`^${t}$`,"i")},i=new RegExp("^0[0-7]+$","i"),s=new RegExp("^0x[a-f0-9]+$","i"),o="%[0-9a-z]{1,}",c="(?:[0-9a-f]+::?)+",l={zoneIndex:new RegExp(o,"i"),native:new RegExp(`^(::)?(${c})?([0-9a-f]+)?(::)?(${o})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${t}\\.${t}\\.${t}\\.${t}(${o})?)$`,"i"),transitional:new RegExp(`^((?:${c})|(?:::)(?:${c})?)${t}\\.${t}\\.${t}\\.${t}(${o})?$`,"i")};function u(a,d){if(a.indexOf("::")!==a.lastIndexOf("::"))return null;let f=0,h=-1,x=(a.match(l.zoneIndex)||[])[0],C,_;for(x&&(x=x.substring(1),a=a.replace(/%.+$/,""));(h=a.indexOf(":",h+1))>=0;)f++;if(a.substr(0,2)==="::"&&f--,a.substr(-2,2)==="::"&&f--,f>d)return null;for(_=d-f,C=":";_--;)C+="0:";return a=a.replace("::",C),a[0]===":"&&(a=a.slice(1)),a[a.length-1]===":"&&(a=a.slice(0,-1)),d=(function(){const V=a.split(":"),te=[];for(let W=0;W<V.length;W++)te.push(parseInt(V[W],16));return te})(),{parts:d,zoneId:x}}function v(a,d,f,h){if(a.length!==d.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let x=0,C;for(;h>0;){if(C=f-h,C<0&&(C=0),a[x]>>C!==d[x]>>C)return!1;h-=f,x+=1}return!0}function w(a){if(s.test(a))return parseInt(a,16);if(a[0]==="0"&&!isNaN(parseInt(a[1],10))){if(i.test(a))return parseInt(a,8);throw new Error(`ipaddr: cannot parse ${a} as octal`)}return parseInt(a,10)}function k(a,d){for(;a.length<d;)a=`0${a}`;return a}const S={};S.IPv4=(function(){function a(d){if(d.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let f,h;for(f=0;f<d.length;f++)if(h=d[f],!(0<=h&&h<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=d}return a.prototype.SpecialRanges={unspecified:[[new a([0,0,0,0]),8]],broadcast:[[new a([255,255,255,255]),32]],multicast:[[new a([224,0,0,0]),4]],linkLocal:[[new a([169,254,0,0]),16]],loopback:[[new a([127,0,0,0]),8]],carrierGradeNat:[[new a([100,64,0,0]),10]],private:[[new a([10,0,0,0]),8],[new a([172,16,0,0]),12],[new a([192,168,0,0]),16]],reserved:[[new a([192,0,0,0]),24],[new a([192,0,2,0]),24],[new a([192,88,99,0]),24],[new a([198,18,0,0]),15],[new a([198,51,100,0]),24],[new a([203,0,113,0]),24],[new a([240,0,0,0]),4]],as112:[[new a([192,175,48,0]),24],[new a([192,31,196,0]),24]],amt:[[new a([192,52,193,0]),24]]},a.prototype.kind=function(){return"ipv4"},a.prototype.match=function(d,f){let h;if(f===void 0&&(h=d,d=h[0],f=h[1]),d.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return v(this.octets,d.octets,8,f)},a.prototype.prefixLengthFromSubnetMask=function(){let d=0,f=!1;const h={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};let x,C,_;for(x=3;x>=0;x-=1)if(C=this.octets[x],C in h){if(_=h[C],f&&_!==0)return null;_!==8&&(f=!0),d+=_}else return null;return 32-d},a.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){return this.octets.slice(0)},a.prototype.toIPv4MappedAddress=function(){return S.IPv6.parse(`::ffff:${this.toString()}`)},a.prototype.toNormalizedString=function(){return this.toString()},a.prototype.toString=function(){return this.octets.join(".")},a})(),S.IPv4.broadcastAddressFromCIDR=function(a){try{const d=this.parseCIDR(a),f=d[0].toByteArray(),h=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),x=[];let C=0;for(;C<4;)x.push(parseInt(f[C],10)|parseInt(h[C],10)^255),C++;return new this(x)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.isIPv4=function(a){return this.parser(a)!==null},S.IPv4.isValid=function(a){try{return new this(this.parser(a)),!0}catch{return!1}},S.IPv4.isValidCIDR=function(a){try{return this.parseCIDR(a),!0}catch{return!1}},S.IPv4.isValidFourPartDecimal=function(a){return!!(S.IPv4.isValid(a)&&a.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},S.IPv4.networkAddressFromCIDR=function(a){let d,f,h,x,C;try{for(d=this.parseCIDR(a),h=d[0].toByteArray(),C=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),x=[],f=0;f<4;)x.push(parseInt(h[f],10)&parseInt(C[f],10)),f++;return new this(x)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},S.IPv4.parse=function(a){const d=this.parser(a);if(d===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(d)},S.IPv4.parseCIDR=function(a){let d;if(d=a.match(/^(.+)\/(\d+)$/)){const f=parseInt(d[2]);if(f>=0&&f<=32){const h=[this.parse(d[1]),f];return Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},S.IPv4.parser=function(a){let d,f,h;if(d=a.match(n.fourOctet))return(function(){const x=d.slice(1,6),C=[];for(let _=0;_<x.length;_++)f=x[_],C.push(w(f));return C})();if(d=a.match(n.longValue)){if(h=w(d[1]),h>4294967295||h<0)throw new Error("ipaddr: address outside defined range");return(function(){const x=[];let C;for(C=0;C<=24;C+=8)x.push(h>>C&255);return x})().reverse()}else return(d=a.match(n.twoOctet))?(function(){const x=d.slice(1,4),C=[];if(h=w(x[1]),h>16777215||h<0)throw new Error("ipaddr: address outside defined range");return C.push(w(x[0])),C.push(h>>16&255),C.push(h>>8&255),C.push(h&255),C})():(d=a.match(n.threeOctet))?(function(){const x=d.slice(1,5),C=[];if(h=w(x[2]),h>65535||h<0)throw new Error("ipaddr: address outside defined range");return C.push(w(x[0])),C.push(w(x[1])),C.push(h>>8&255),C.push(h&255),C})():null},S.IPv4.subnetMaskFromPrefixLength=function(a){if(a=parseInt(a),a<0||a>32)throw new Error("ipaddr: invalid IPv4 prefix length");const d=[0,0,0,0];let f=0;const h=Math.floor(a/8);for(;f<h;)d[f]=255,f++;return h<4&&(d[h]=Math.pow(2,a%8)-1<<8-a%8),new this(d)},S.IPv6=(function(){function a(d,f){let h,x;if(d.length===16)for(this.parts=[],h=0;h<=14;h+=2)this.parts.push(d[h]<<8|d[h+1]);else if(d.length===8)this.parts=d;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(h=0;h<this.parts.length;h++)if(x=this.parts[h],!(0<=x&&x<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");f&&(this.zoneId=f)}return a.prototype.SpecialRanges={unspecified:[new a([0,0,0,0,0,0,0,0]),128],linkLocal:[new a([65152,0,0,0,0,0,0,0]),10],multicast:[new a([65280,0,0,0,0,0,0,0]),8],loopback:[new a([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new a([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new a([0,0,0,0,0,65535,0,0]),96],discard:[new a([256,0,0,0,0,0,0,0]),64],rfc6145:[new a([0,0,0,0,65535,0,0,0]),96],rfc6052:[new a([100,65435,0,0,0,0,0,0]),96],"6to4":[new a([8194,0,0,0,0,0,0,0]),16],teredo:[new a([8193,0,0,0,0,0,0,0]),32],benchmarking:[new a([8193,2,0,0,0,0,0,0]),48],amt:[new a([8193,3,0,0,0,0,0,0]),32],as112v6:[[new a([8193,4,274,0,0,0,0,0]),48],[new a([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new a([8193,16,0,0,0,0,0,0]),28],orchid2:[new a([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new a([8193,48,0,0,0,0,0,0]),28],reserved:[[new a([8193,0,0,0,0,0,0,0]),23],[new a([8193,3512,0,0,0,0,0,0]),32]]},a.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},a.prototype.kind=function(){return"ipv6"},a.prototype.match=function(d,f){let h;if(f===void 0&&(h=d,d=h[0],f=h[1]),d.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return v(this.parts,d.parts,16,f)},a.prototype.prefixLengthFromSubnetMask=function(){let d=0,f=!1;const h={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};let x,C;for(let _=7;_>=0;_-=1)if(x=this.parts[_],x in h){if(C=h[x],f&&C!==0)return null;C!==16&&(f=!0),d+=C}else return null;return 128-d},a.prototype.range=function(){return S.subnetMatch(this,this.SpecialRanges)},a.prototype.toByteArray=function(){let d;const f=[],h=this.parts;for(let x=0;x<h.length;x++)d=h[x],f.push(d>>8),f.push(d&255);return f},a.prototype.toFixedLengthString=function(){const d=(function(){const h=[];for(let x=0;x<this.parts.length;x++)h.push(k(this.parts[x].toString(16),4));return h}).call(this).join(":");let f="";return this.zoneId&&(f=`%${this.zoneId}`),d+f},a.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");const d=this.parts.slice(-2),f=d[0],h=d[1];return new S.IPv4([f>>8,f&255,h>>8,h&255])},a.prototype.toNormalizedString=function(){const d=(function(){const h=[];for(let x=0;x<this.parts.length;x++)h.push(this.parts[x].toString(16));return h}).call(this).join(":");let f="";return this.zoneId&&(f=`%${this.zoneId}`),d+f},a.prototype.toRFC5952String=function(){const d=/((^|:)(0(:|$)){2,})/g,f=this.toNormalizedString();let h=0,x=-1,C;for(;C=d.exec(f);)C[0].length>x&&(h=C.index,x=C[0].length);return x<0?f:`${f.substring(0,h)}::${f.substring(h+x)}`},a.prototype.toString=function(){return this.toRFC5952String()},a})(),S.IPv6.broadcastAddressFromCIDR=function(a){try{const d=this.parseCIDR(a),f=d[0].toByteArray(),h=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),x=[];let C=0;for(;C<16;)x.push(parseInt(f[C],10)|parseInt(h[C],10)^255),C++;return new this(x)}catch(d){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${d})`)}},S.IPv6.isIPv6=function(a){return this.parser(a)!==null},S.IPv6.isValid=function(a){if(typeof a=="string"&&a.indexOf(":")===-1)return!1;try{const d=this.parser(a);return new this(d.parts,d.zoneId),!0}catch{return!1}},S.IPv6.isValidCIDR=function(a){if(typeof a=="string"&&a.indexOf(":")===-1)return!1;try{return this.parseCIDR(a),!0}catch{return!1}},S.IPv6.networkAddressFromCIDR=function(a){let d,f,h,x,C;try{for(d=this.parseCIDR(a),h=d[0].toByteArray(),C=this.subnetMaskFromPrefixLength(d[1]).toByteArray(),x=[],f=0;f<16;)x.push(parseInt(h[f],10)&parseInt(C[f],10)),f++;return new this(x)}catch(_){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${_})`)}},S.IPv6.parse=function(a){const d=this.parser(a);if(d.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(d.parts,d.zoneId)},S.IPv6.parseCIDR=function(a){let d,f,h;if((f=a.match(/^(.+)\/(\d+)$/))&&(d=parseInt(f[2]),d>=0&&d<=128))return h=[this.parse(f[1]),d],Object.defineProperty(h,"toString",{value:function(){return this.join("/")}}),h;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},S.IPv6.parser=function(a){let d,f,h,x,C,_;if(h=a.match(l.deprecatedTransitional))return this.parser(`::ffff:${h[1]}`);if(l.native.test(a))return u(a,8);if((h=a.match(l.transitional))&&(_=h[6]||"",d=h[1],h[1].endsWith("::")||(d=d.slice(0,-1)),d=u(d+_,6),d.parts)){for(C=[parseInt(h[2]),parseInt(h[3]),parseInt(h[4]),parseInt(h[5])],f=0;f<C.length;f++)if(x=C[f],!(0<=x&&x<=255))return null;return d.parts.push(C[0]<<8|C[1]),d.parts.push(C[2]<<8|C[3]),{parts:d.parts,zoneId:d.zoneId}}return null},S.IPv6.subnetMaskFromPrefixLength=function(a){if(a=parseInt(a),a<0||a>128)throw new Error("ipaddr: invalid IPv6 prefix length");const d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];let f=0;const h=Math.floor(a/8);for(;f<h;)d[f]=255,f++;return h<16&&(d[h]=Math.pow(2,a%8)-1<<8-a%8),new this(d)},S.fromByteArray=function(a){const d=a.length;if(d===4)return new S.IPv4(a);if(d===16)return new S.IPv6(a);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},S.isValid=function(a){return S.IPv6.isValid(a)||S.IPv4.isValid(a)},S.isValidCIDR=function(a){return S.IPv6.isValidCIDR(a)||S.IPv4.isValidCIDR(a)},S.parse=function(a){if(S.IPv6.isValid(a))return S.IPv6.parse(a);if(S.IPv4.isValid(a))return S.IPv4.parse(a);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},S.parseCIDR=function(a){try{return S.IPv6.parseCIDR(a)}catch{try{return S.IPv4.parseCIDR(a)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},S.process=function(a){const d=this.parse(a);return d.kind()==="ipv6"&&d.isIPv4MappedAddress()?d.toIPv4Address():d},S.subnetMatch=function(a,d,f){let h,x,C,_;f==null&&(f="unicast");for(x in d)if(Object.prototype.hasOwnProperty.call(d,x)){for(C=d[x],C[0]&&!(C[0]instanceof Array)&&(C=[C]),h=0;h<C.length;h++)if(_=C[h],a.kind()===_[0].kind()&&a.match.apply(a,_))return x}return f},r.exports?r.exports=S:e.ipaddr=S})(ao)})(et)),et.exports}var lo=co();const On=Vn(lo);class uo extends oe{constructor(e){super(),this.exclusionsStorage=e}NON_ROUTABLE_IP_ADDRESS=["0.0.0.0/8","10.0.0.0/8","14.0.0.0/8","24.0.0.0/8","39.0.0.0/8","127.0.0.0/8","128.0.0.0/16","169.254.0.0/16","172.16.0.0/12","191.255.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","192.168.0.0/16","198.18.0.0/15","223.255.255.0/24","224.0.0.0/4","240.0.0.0/4"];DEFAULT_EXCLUSIONS=["::1","localhost","*.local","127.0.0.1","analytics.google.com","*.analytics.google.com","google-analytics.com","*.google-analytics.com"];get nonRoutableNets(){const e=t=>{const[n,i]=On.parseCIDR(t);return[n.toString(),On.IPv4.subnetMaskFromPrefixLength(i).toString()]};return this.NON_ROUTABLE_IP_ADDRESS.map(e)}get exclusionList(){const e=this.exclusionSites.map(t=>t.matchPattern);return[...this.DEFAULT_EXCLUSIONS,...e]}get nonRoutableList(){return[...this.NON_ROUTABLE_IP_ADDRESS]}get exclusionSites(){return this.exclusionsStorage.state.exclusions??[]}async boot(){await this.exclusionsStorage.sync(),this.bootResolve(),await this.bootPromise}async add(e){await this.exclusionsStorage.setItems({exclusions:[...this.exclusionSites,e]})}async remove(e){const t=this.exclusionSites.filter(n=>n.matchPattern!==e.matchPattern);await this.exclusionsStorage.setItems({exclusions:t})}}const ho=new pe("exclusions",ro,ee),_o=new uo(ho),po=["disconnected","connecting","connected","disconnecting"],fo="disconnected",go=P({status:de(po).optional().describe(E.persist),ipAddress:$().optional().describe(E.session),connectionCount:U().describe(E.persist),useAutoConnect:M().optional().describe(E.persist),connectedAt:U().optional().describe(E.persist)}).default({connectionCount:0}),mo=new he(go);class bo extends oe{constructor(e){super(),this.connectionStorage=e}get currentIp(){return this.connectionStorage.state.ipAddress}get status(){return this.connectionStorage.state.status??fo}get isConnected(){return this.connectionStorage.state.status==="connected"}get connectionCount(){return this.connectionStorage.state.connectionCount}get useAutoConnect(){return!!this.connectionStorage.state.useAutoConnect}get connectedAt(){return this.connectionStorage.state.connectedAt||0}async boot(){await this.connectionStorage.sync(),this.bootResolve(),await this.bootPromise}async setIpAddress(e){await this.connectionStorage.setItems({ipAddress:e})}async removeIpAddress(){await this.connectionStorage.removeItems("ipAddress")}async setConnectionStatus(e){await this.connectionStorage.setItems({status:e})}async incrementConnectionCount(){const e=this.connectionStorage.state.connectionCount+1;await this.connectionStorage.setItems({connectionCount:e})}async setAutoConnect(e){await this.connectionStorage.setItems({useAutoConnect:e})}async setConnectedAt(){const e=Date.now();await this.connectionStorage.setItems({connectedAt:e})}async resetConnectedAt(){await this.connectionStorage.setItems({connectedAt:0})}}const wo=new pe("connection",mo,ee),Ro=new bo(wo);export{Ze as D,Q as U,yo as a,xo as b,Mi as c,Co as d,ko as e,_o as f,Ro as g,An as h,T as i,Ls as j,So as n,Oo as p,Io as w};
